module.exports=function(e){var n={};function r(i){if(n[i])return n[i].exports;var t=n[i]={i:i,l:!1,exports:{}};return e[i].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=e,r.c=n,r.d=function(e,n,i){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(i,t,function(n){return e[n]}.bind(null,t));return i},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=26)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/includes")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(e,n){e.exports=require("classnames")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/slicedToArray")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/some")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/extends")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/map")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/toConsumableArray")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/sort")},function(e,n){e.exports=require("klona")},function(e,n){e.exports=require("react-resize-zoom")},function(e,n){e.exports=require("react-free-draggable")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/values")},function(e,n,r){"use strict";r.r(n),r.d(n,"DragGridItem",(function(){return be})),r.d(n,"DragTypes",(function(){return $})),r.d(n,"DragDirection",(function(){return ee})),r.d(n,"DragDirectionCode",(function(){return fe}));var i=r(5),t=r.n(i),o=r(1),u=r.n(o),d=r(6),l=r.n(d),a=r(2),s=r.n(a),c=r(3),f=r.n(c),v=r(4),p=r.n(v),h=r(14),b=r.n(h),y=r(7),m=r.n(y),G=r(11),g=r.n(G),x=r(8),Y=r.n(x),j=r(15),w=r.n(j),z=r(0),X=r.n(z),E=r(9),R=r.n(E),P=r(16),S=r.n(P),q=r(17),O=r.n(q),M=r(18),T=r.n(M),H=r(19),W=r.n(H),I=r(12),D=r.n(I),K=r(13),C=r.n(K),N=r(20),k=r.n(N),Z=r(21),_=r.n(Z),A=r(22);function B(e,n){var r=t()(e);if(u.a){var i=u()(e);n&&(i=l()(i).call(i,(function(n){return s()(e,n).enumerable}))),r.push.apply(r,i)}return r}function L(e){for(var n=1;n<arguments.length;n++){var r,i,t=null!=arguments[n]?arguments[n]:{};n%2?f()(r=B(Object(t),!0)).call(r,(function(n){m()(e,n,t[n])})):p.a?Object.defineProperties(e,p()(t)):f()(i=B(Object(t))).call(i,(function(n){Object.defineProperty(e,n,s()(t,n))}))}return e}var V,F=function(e,n){return e.GridX===n.GridX&&e.GridY===n.GridY&&e.w===n.w&&e.h===n.h||"number"==typeof e.GridX&&"number"==typeof n.GridX&&"number"==typeof e.GridY&&"number"==typeof n.GridY&&"number"==typeof e.w&&"number"==typeof n.w&&"number"==typeof e.h&&"number"==typeof n.h&&(!(e.GridX+e.w<=n.GridX)&&(!(e.GridX>=n.GridX+n.w)&&(!(e.GridY+e.h<=n.GridY)&&!(e.GridY>=n.GridY+n.h))))},J=function(e,n){for(var r=0,i=e.length;r<i;r++)if(F(e[r],n))return e[r];return null},Q=(V={},function(e,n){if(n.GridX===V.GridX&&n.GridY===V.GridY&&n.w===V.w&&n.h===V.h)return e;V=L({},n);for(var r=null==n?void 0:n.uniqueKey,i=[],t=0;t<(null==e?void 0:e.length);t++){var o=null==e?void 0:e[t];if("number"==typeof(null==n?void 0:n.GridY)&&"number"==typeof o.GridY&&"number"==typeof o.h)if((null==o?void 0:o.uniqueKey)!==r)if(!F(o,n)||null!=o&&o.forbid)null==i||i.push(o);else{var u=void 0;u=n.GridY>o.GridY&&n.GridY<o.GridY+o.h?o.GridY:o.GridY+1;var d=L(L({},o),{},{GridY:u});null==i||i.push(d)}else{var l=L(L({},o),n);null==i||i.push(l)}}return i});var U,$,ee,ne=function(e,n){if(n.forbid)return n;var r=L(L({},n),{},{uniqueKey:n.uniqueKey+""});if(0===e.length)return L(L({},r),{},{GridY:0});for(;;){var i=J(e,r);if(i&&"number"==typeof i.GridY&&"number"==typeof i.h)return r.GridY=i.GridY+i.h,r;if("number"==typeof(null==r?void 0:r.GridY)&&(r.GridY--,r.GridY<0))return L(L({},r),{},{GridY:0})}},re=(U={},function(e,n){if(n){if(U.GridX===n.GridX&&U.GridY===n.GridY&&U.w===n.w&&U.h===n.h&&U.uniqueKey===n.uniqueKey)return e;U=n}for(var r=function(e){var n=Object(A.klona)(e);return null==n?void 0:_()(n).call(n,(function(e,n){return"number"==typeof e.GridY&&"number"==typeof e.GridX&&"number"==typeof n.GridY&&"number"==typeof n.GridX?e.forbid||n.forbid?0:e.GridY===n.GridY?e.GridX-n.GridX:e.GridY-n.GridY:-1}))}(e),i=Array(e.length),t=[],o=0,u=r.length;o<u;o++){var d=ne(t,r[o]);n&&n.uniqueKey===d.uniqueKey&&(n.GridX=d.GridX,n.GridY=d.GridY),t.push(d),i[o]=d}return i}),ie=function(e,n,r,i){return"number"==typeof n&&"number"==typeof r&&"number"==typeof i&&(n+i>e-1&&(n=e-i),n<0&&(n=0),r<0&&(r=0)),{GridX:n,GridY:r}},te=r(23),oe=r.n(te),ue=r(24),de=r.n(ue),le=r(10),ae=r.n(le),se=r(25),ce=r.n(se);!function(e){e.Start="start",e.Move="move",e.End="end",e.ResizeStart="resizeStart",e.Resizing="resizing",e.ResizeEnd="resizeEnd"}($||($={})),function(e){e.Vertical="vertical",e.Horizontal="horizontal",e.N="n",e.S="s",e.W="w",e.E="e",e.NE="ne",e.NW="nw",e.SE="se",e.SW="sw"}(ee||(ee={}));var fe=ce()(ee);function ve(e,n){var r=t()(e);if(u.a){var i=u()(e);n&&(i=l()(i).call(i,(function(n){return s()(e,n).enumerable}))),r.push.apply(r,i)}return r}function pe(e){for(var n=1;n<arguments.length;n++){var r,i,t=null!=arguments[n]?arguments[n]:{};n%2?f()(r=ve(Object(t),!0)).call(r,(function(n){m()(e,n,t[n])})):p.a?Object.defineProperties(e,p()(t)):f()(i=ve(Object(t))).call(i,(function(n){Object.defineProperty(e,n,s()(t,n))}))}return e}function he(e){var n=function(){if("undefined"==typeof Reflect||!R.a)return!1;if(R.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(R()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=D()(e);if(n){var t=D()(this).constructor;r=R()(i,arguments,t)}else r=i.apply(this,arguments);return W()(this,r)}}var be=function(e){T()(r,e);var n=he(r);function r(e){var i;return S()(this,r),(i=n.call(this,e)).lastZindex=void 0,i.calcolsWidth=function(){var e=i.props,n=e.containerWidth,r=e.cols,t=e.containerPadding,o=e.margin;return o?(n-2*t[0]-o[0]*(r+1))/r:(n-2*t[0]-0*(r+1))/r},i.calGridXYToPx=function(e,n){var r,t,o=i.props,u=o.margin,d=o.rowHeight;return u||(u=[0,0]),"number"==typeof e&&(r=Math.round(e*i.calcolsWidth()+(e+1)*u[0])),"number"==typeof n&&(t=Math.round(n*d+u[1]*(n+1))),{x:r,y:t}},i.calPxToGridXY=function(e,n){var r=i.props,t=r.margin,o=r.containerWidth,u=r.cols,d=r.w,l=r.rowHeight,a=Math.round(e/o*u),s=Math.round(n/(l+(t?t[1]:0)));return ie(u,a,s,d)},i.calWHtoPx=function(e,n){var r,t,o=i.props,u=o.margin,d=o.rowHeight;return u||(u=[0,0]),"number"==typeof e&&(r=Math.round(e*i.calcolsWidth()+(e-1)*u[0])),"number"==typeof n&&(t=Math.round(n*d+(n-1)*u[1])),{wPx:r,hPx:t}},i.calPxToWH=function(e,n){var r=i.props,t=r.rowHeight,o=r.cols,u=r.GridX,d=i.calcolsWidth();return function(e,n,r,i){var t=r,o=i;return"number"==typeof n&&"number"==typeof r&&"number"==typeof i&&(n+r>e-1&&(t=e-n),r<1&&(t=1),i<1&&(o=1)),{w:t,h:o}}(o,u,Math.round((e-.5*d)/d),Math.round((n-.5*t)/t))},i.addEventParams=function(e){var n=i.props;return pe({GridX:n.GridX,GridY:n.GridY,w:n.w,h:n.h,uniqueKey:n.uniqueKey,margin:n.margin,forbid:n.forbid,handle:n.handle,direction:n.direction},e)},i.onStart=function(e,n){var r,t,o,u;if(i.setState({dragType:$.Start}),n&&i.canDrag()){i.lastZindex=null==n||null===(r=n.node)||void 0===r||null===(t=r.style)||void 0===t?void 0:t.zIndex,"999"!=(null==n||null===(o=n.node)||void 0===o||null===(u=o.style)||void 0===u?void 0:u.zIndex)&&(n.node.style.zIndex="999");var d=n.x,l=void 0===d?0:d,a=n.y,s=void 0===a?0:a,c=i.calPxToGridXY(l,s),f=c.GridX,v=c.GridY;i.props.onStart&&i.props.onStart(i.addEventParams({GridX:f,GridY:v}),e)}},i.onMove=function(e,n){var r,t;if(i.setState({dragType:$.Move}),n&&i.canDrag()){"999"!=(null==n||null===(r=n.node)||void 0===r||null===(t=r.style)||void 0===t?void 0:t.zIndex)&&(n.node.style.zIndex="999");var o=n.x,u=void 0===o?0:o,d=n.y,l=void 0===d?0:d,a=i.calPxToGridXY(u,l),s=a.GridX,c=a.GridY;i.props.onMove&&i.props.onMove(i.addEventParams({GridX:s,GridY:c}),e)}},i.onEnd=function(e,n){if(i.setState({dragType:$.End}),n&&i.canDrag()){n.node.style.zIndex=i.lastZindex;var r=n.x,t=void 0===r?0:r,o=n.y,u=void 0===o?0:o,d=i.calPxToGridXY(t,u),l=d.GridX,a=d.GridY;i.props.onEnd&&i.props.onEnd(i.addEventParams({GridX:l,GridY:a}),e)}},i.onResizeStart=function(e,n){var r,t,o,u;i.setState({dragType:$.ResizeStart}),n&&i.canResize()&&(i.lastZindex=null==n||null===(r=n.node)||void 0===r||null===(t=r.style)||void 0===t?void 0:t.zIndex,"999"!=(null==n||null===(o=n.node)||void 0===o||null===(u=o.style)||void 0===u?void 0:u.zIndex)&&(n.node.style.zIndex="999"),i.props.onResizeStart&&i.props.onResizeStart(i.addEventParams({}),e))},i.onResizing=function(e,n){var r,t;if(i.setState({dragType:$.Resizing}),n&&i.canResize()){"999"!=(null==n||null===(r=n.node)||void 0===r||null===(t=r.style)||void 0===t?void 0:t.zIndex)&&(n.node.style.zIndex="999");var o=n.width,u=n.height,d=i.calPxToWH(o,u),l=d.w,a=d.h;i.props.onResizing&&i.props.onResizing(i.addEventParams({w:l,h:a}),e)}},i.onResizeEnd=function(e,n){if(i.setState({dragType:$.ResizeEnd}),n&&i.canResize()){n.node.style.zIndex=i.lastZindex;var r=n.width,t=n.height,o=i.calPxToWH(r,t),u=o.w,d=o.h;i.props.onResizeEnd&&i.props.onResizeEnd(i.addEventParams({w:u,h:d}),e)}},i.canDrag=function(){var e=i.props,n=e.direction,r=e.forbid,t=null==fe?void 0:C()(fe).call(fe,(function(e){return null==n?void 0:Y()(n).call(n,e)}));return!r&&(!n||t)},i.canResize=function(){var e=i.props,n=e.direction,r=e.forbid,t=null==fe?void 0:C()(fe).call(fe,(function(e){return null==n?void 0:Y()(n).call(n,e)}));return!r&&(!n||t)},i.lastZindex="",i.state={dragType:void 0},i}return O()(r,[{key:"render",value:function(){var e,n,r=this.props,i=r.w,t=r.h,o=r.style,u=r.bounds,d=r.GridX,l=r.GridY,a=r.handle,s=r.direction,c=r.children,f=r.className,v=this.state.dragType,p=this.calGridXYToPx(d,l),h=p.x,b=p.y,y=this.calWHtoPx(i,t),m=y.wPx,G=y.hPx,g=ae()((null==c||null===(e=c.props)||void 0===e?void 0:e.className)||"",f),x=null===(n=v&&[$.Move,$.Resizing])||void 0===n?void 0:Y()(n).call(n,v);return X.a.createElement(de.a,{className:g,direction:this.canDrag()?s:[],bounds:u,handle:a,onStart:this.onStart,onMove:this.onMove,onEnd:this.onEnd,x:h,y:b},X.a.createElement(oe.a,{onResizeStart:this.onResizeStart,onResizeMoving:this.onResizing,onResizeEnd:this.onResizeEnd,direction:this.canResize()?s:[],width:m,height:G},X.a.cloneElement(X.a.Children.only(c),{style:pe(pe(pe({},c.props.style),o),{},{position:"absolute",transition:x||!this.canDrag()?"":"all .2s ease-out"})})))}}]),r}(X.a.Component);function ye(e,n){var r=t()(e);if(u.a){var i=u()(e);n&&(i=l()(i).call(i,(function(n){return s()(e,n).enumerable}))),r.push.apply(r,i)}return r}function me(e){for(var n=1;n<arguments.length;n++){var r,i,t=null!=arguments[n]?arguments[n]:{};n%2?f()(r=ye(Object(t),!0)).call(r,(function(n){m()(e,n,t[n])})):p.a?Object.defineProperties(e,p()(t)):f()(i=ye(Object(t))).call(i,(function(n){Object.defineProperty(e,n,s()(t,n))}))}return e}be.defaultProps={cols:12,containerWidth:500,containerPadding:[0,0],margin:[10,10],rowHeight:30,w:1,h:1,direction:fe};var Ge=X.a.forwardRef((function(e,n){var r,i,t,o=Object(z.useState)([]),u=g()(o,2),d=u[0],l=u[1],a=Object(z.useState)(),s=g()(a,2),c=s[0],f=s[1],v=Object(z.useState)({}),p=g()(v,2),h=p[0],y=p[1],m=Object(z.useRef)();Object(z.useImperativeHandle)(n,(function(){return{getLayout:G}}));var G=function(){return d};Object(z.useEffect)((function(){E(e.layout,null==e?void 0:e.cols)}),[e.layout,null==e?void 0:e.cols]);var x,j,E=function(e,n){var r=function(e,n){for(var r=k()(e),i=0;i<(null==e?void 0:e.length)-1;i++){var t,o;r[i].GridX=null===(t=ie(n,r[i].GridX,r[i].GridY,r[i].w))||void 0===t?void 0:t.GridX,r[i].GridY=null===(o=ie(n,r[i+1].GridX,r[i+1].GridY,r[i+1].w))||void 0===o?void 0:o.GridY,F(r[i],r[i+1])&&(r=Q(r,r[i]))}return r}(e,n),i=re(r,void 0);l(i)},R=function(n,r){f($.Start),y({GridX:null==n?void 0:n.GridX,GridY:null==n?void 0:n.GridY,w:null==n?void 0:n.w,h:null==n?void 0:n.h}),e.onStart&&e.onStart(n,d,void 0,r)},P=function(n,r){f($.Move);var i=Q(d,n),t=re(i,n);l(t),y((function(e){return me(me({},e),{},{GridX:null==n?void 0:n.GridX,GridY:null==n?void 0:n.GridY})})),e.onMove&&e.onMove(n,d,t,r)},S=function(n,r){f($.End);var i=re(d,void 0);l(i),e.onEnd&&e.onEnd(n,d,i,r)},q=function(n,r){f($.ResizeStart),y({GridX:null==n?void 0:n.GridX,GridY:null==n?void 0:n.GridY,w:null==n?void 0:n.w,h:null==n?void 0:n.h}),e.onResizeStart&&e.onResizeStart(n,d,void 0,r)},O=function(n,r){var i=Q(d,n),t=re(i,n);l(t),y((function(e){return me(me({},e),{},{w:null==n?void 0:n.w,h:null==n?void 0:n.h})})),e.onResizing&&e.onResizing(n,d,t,r)},M=function(n,r){f($.ResizeEnd);var i=re(d,void 0);l(i),e.onResizeEnd&&e.onResizeEnd(n,d,i,r)},T=ae()("DraggerLayout",null==e?void 0:e.className);return X.a.createElement("div",{ref:m,className:T,style:me(me({},null==e?void 0:e.style),{},{width:(null==e?void 0:e.width)||(null===(r=m.current)||void 0===r||null===(i=r.style)||void 0===i?void 0:i.width),height:(x=function(e){for(var n,r=0,i=0,t=e.length;i<t;i++)"number"==typeof e[i].GridY&&"number"==typeof e[i].h&&(n=e[i].GridY+e[i].h)>r&&(r=n);return r}(d),j=e.padding?e.padding[1]:e.margin[1],x*e.rowHeight+(x-1)*e.margin[1]+2*j+"px")})},w()(t=X.a.Children).call(t,null==e?void 0:e.children,(function(n){if(n)return function(n){if(null!=d&&d.length){var r,i=null==n?void 0:n.key,t=function(e,n){for(var r=0,i=null==e?void 0:e.length;r<i;r++)if(e[r].uniqueKey===n)return e[r]}(d,i);if(!t)return;return X.a.createElement(be,b()({},t,{margin:null==e?void 0:e.margin,cols:null==e?void 0:e.cols,bounds:m.current,containerWidth:null==e?void 0:e.width,containerPadding:null!==(r=null==e?void 0:e.padding)&&void 0!==r?r:[0,0],rowHeight:null==e?void 0:e.rowHeight,onStart:R,onMove:P,onEnd:S,uniqueKey:i,onResizeStart:q,onResizing:O,onResizeEnd:M}),n)}}(n)})),function(){var n,r;if(c&&!Y()(n=[$.End,$.ResizeEnd]).call(n,c))return X.a.createElement(be,{margin:null==e?void 0:e.margin,cols:null==e?void 0:e.cols,bounds:m.current,containerWidth:null==e?void 0:e.width,containerPadding:null!==(r=null==e?void 0:e.padding)&&void 0!==r?r:[0,0],rowHeight:null==e?void 0:e.rowHeight,style:{background:"rgba(15,15,15,0.3)",transition:" all .15s ease-out"},GridX:h.GridX,GridY:h.GridY,w:h.w,h:h.h,direction:[]},X.a.createElement("div",null))}())}));n.default=Ge}]);