module.exports=function(r){var e={};function n(i){if(e[i])return e[i].exports;var t=e[i]={i:i,l:!1,exports:{}};return r[i].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=e,n.d=function(r,e,i){n.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:i})},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,e){if(1&e&&(r=n(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var t in r)n.d(i,t,function(e){return r[e]}.bind(null,t));return i},n.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(e,"a",e),e},n.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},n.p="",n(n.s=25)}([function(r,e){r.exports=require("react")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(r,e){r.exports=require("react-resize-zoom")},function(r,e){r.exports=require("react-free-draggable")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/includes")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(r,e){r.exports=require("classnames")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/slicedToArray")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/some")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/extends")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/map")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/toConsumableArray")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/sort")},function(r,e){r.exports=require("klona")},function(r,e,n){"use strict";n.r(e),n.d(e,"DragGridItem",(function(){return fr})),n.d(e,"DragTypes",(function(){return $}));var i=n(7),t=n.n(i),o=n(1),a=n.n(o),u=n(8),d=n.n(u),l=n(2),s=n.n(l),c=n(3),f=n.n(c),p=n(4),v=n.n(p),g=n(16),h=n.n(g),b=n(9),G=n.n(b),m=n(13),y=n.n(m),x=n(10),Y=n.n(x),j=n(17),w=n.n(j),z=n(0),X=n.n(z),D=n(11),P=n.n(D),E=n(18),R=n.n(E),S=n(19),q=n.n(S),O=n(20),A=n.n(O),T=n(21),C=n.n(T),H=n(14),W=n.n(H),M=n(15),K=n.n(M),I=n(22),k=n.n(I),_=n(23),N=n.n(_),B=n(24);function L(r,e){var n=t()(r);if(a.a){var i=a()(r);e&&(i=d()(i).call(i,(function(e){return s()(r,e).enumerable}))),n.push.apply(n,i)}return n}function F(r){for(var e=1;e<arguments.length;e++){var n,i,t=null!=arguments[e]?arguments[e]:{};e%2?f()(n=L(Object(t),!0)).call(n,(function(e){G()(r,e,t[e])})):v.a?Object.defineProperties(r,v()(t)):f()(i=L(Object(t))).call(i,(function(e){Object.defineProperty(r,e,s()(t,e))}))}return r}var J,Q=function(r,e){return r.GridX===e.GridX&&r.GridY===e.GridY&&r.w===e.w&&r.h===e.h||"number"==typeof r.GridX&&"number"==typeof e.GridX&&"number"==typeof r.GridY&&"number"==typeof e.GridY&&"number"==typeof r.w&&"number"==typeof e.w&&"number"==typeof r.h&&"number"==typeof e.h&&(!(r.GridX+r.w<=e.GridX)&&(!(r.GridX>=e.GridX+e.w)&&(!(r.GridY+r.h<=e.GridY)&&!(r.GridY>=e.GridY+e.h))))},U=function(r,e){for(var n=0,i=r.length;n<i;n++)if(Q(r[n],e))return r[n];return null},V=(J={},function(r,e){if(e.GridX===J.GridX&&e.GridY===J.GridY&&e.w===J.w&&e.h===J.h)return r;J=F({},e);for(var n=null==e?void 0:e.uniqueKey,i=[],t=0;t<(null==r?void 0:r.length);t++){var o=null==r?void 0:r[t];if("number"==typeof(null==e?void 0:e.GridY)&&"number"==typeof o.GridY&&"number"==typeof o.h)if((null==o?void 0:o.uniqueKey)!==n)if(!Q(o,e)||null!=o&&o.forbid)null==i||i.push(o);else{var a=void 0;a=e.GridY>o.GridY&&e.GridY<o.GridY+o.h?o.GridY:o.GridY+1;var u=F(F({},o),{},{GridY:a});null==i||i.push(u)}else{var d=F(F({},o),e);null==i||i.push(d)}}return i});var Z,$,rr=function(r,e){if(e.forbid)return e;var n=F(F({},e),{},{uniqueKey:e.uniqueKey+""});if(0===r.length)return F(F({},n),{},{GridY:0});for(;;){var i=U(r,n);if(i&&"number"==typeof i.GridY&&"number"==typeof i.h)return n.GridY=i.GridY+i.h,n;if("number"==typeof(null==n?void 0:n.GridY)&&(n.GridY--,n.GridY<0))return F(F({},n),{},{GridY:0})}},er=(Z={},function(r,e){if(e){if(Z.GridX===e.GridX&&Z.GridY===e.GridY&&Z.w===e.w&&Z.h===e.h&&Z.uniqueKey===e.uniqueKey)return r;Z=e}for(var n=function(r){var e=Object(B.klona)(r);return null==e?void 0:N()(e).call(e,(function(r,e){if("number"==typeof r.GridY&&"number"==typeof r.GridX&&"number"==typeof e.GridY&&"number"==typeof e.GridX){if(r.GridY>e.GridY||r.GridY===e.GridY&&r.GridX>e.GridX)return r.forbid?0:1;if(r.GridY===e.GridY&&r.GridX===e.GridX)return 0}return-1}))}(r),i=Array(r.length),t=[],o=0,a=n.length;o<a;o++){var u=rr(t,n[o]);e&&e.uniqueKey===u.uniqueKey&&(e.GridX=u.GridX,e.GridY=u.GridY),t.push(u),i[o]=u}return i}),nr=function(r,e,n,i){return"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&(e+i>r-1&&(e=r-i),e<0&&(e=0),n<0&&(n=0)),{GridX:e,GridY:n}},ir=n(5),tr=n.n(ir),or=n(6),ar=n.n(or),ur=n(12),dr=n.n(ur);function lr(r,e){var n=t()(r);if(a.a){var i=a()(r);e&&(i=d()(i).call(i,(function(e){return s()(r,e).enumerable}))),n.push.apply(n,i)}return n}function sr(r){for(var e=1;e<arguments.length;e++){var n,i,t=null!=arguments[e]?arguments[e]:{};e%2?f()(n=lr(Object(t),!0)).call(n,(function(e){G()(r,e,t[e])})):v.a?Object.defineProperties(r,v()(t)):f()(i=lr(Object(t))).call(i,(function(e){Object.defineProperty(r,e,s()(t,e))}))}return r}function cr(r){var e=function(){if("undefined"==typeof Reflect||!P.a)return!1;if(P.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P()(Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var n,i=W()(r);if(e){var t=W()(this).constructor;n=P()(i,arguments,t)}else n=i.apply(this,arguments);return C()(this,n)}}!function(r){r.dragStart="dragStart",r.draging="draging",r.dragEnd="dragEnd",r.resizeStart="resizeStart",r.resizing="resizing",r.resizeEnd="resizeEnd"}($||($={}));var fr=function(r){A()(n,r);var e=cr(n);function n(r){var i;return R()(this,n),(i=e.call(this,r)).calcolsWidth=function(){var r=i.props,e=r.containerWidth,n=r.cols,t=r.containerPadding,o=r.margin;return o?(e-2*t[0]-o[0]*(n+1))/n:(e-2*t[0]-0*(n+1))/n},i.calGridXYToPx=function(r,e){var n,t,o=i.props,a=o.margin,u=o.rowHeight;return a||(a=[0,0]),"number"==typeof r&&(n=Math.round(r*i.calcolsWidth()+(r+1)*a[0])),"number"==typeof e&&(t=Math.round(e*u+a[1]*(e+1))),{x:n,y:t}},i.calPxToGridXY=function(r,e){var n=i.props,t=n.margin,o=n.containerWidth,a=n.cols,u=n.w,d=n.rowHeight,l=Math.round(r/o*a),s=Math.round(e/(d+(t?t[1]:0)));return nr(a,l,s,u)},i.calWHtoPx=function(r,e){var n,t,o=i.props,a=o.margin,u=o.rowHeight;return a||(a=[0,0]),"number"==typeof r&&(n=Math.round(r*i.calcolsWidth()+(r-1)*a[0])),"number"==typeof e&&(t=Math.round(e*u+(e-1)*a[1])),{wPx:n,hPx:t}},i.calPxToWH=function(r,e){var n=i.props,t=n.rowHeight,o=n.cols,a=n.GridX,u=i.calcolsWidth();return function(r,e,n,i){var t=n,o=i;return"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&(e+n>r-1&&(t=r-e),n<1&&(t=1),i<1&&(o=1)),{w:t,h:o}}(o,a,Math.round((r-.5*u)/u),Math.round((e-.5*t)/t))},i.addEventParams=function(r){var e=i.props;return sr({GridX:e.GridX,GridY:e.GridY,w:e.w,h:e.h,uniqueKey:e.uniqueKey,margin:e.margin,forbid:e.forbid,handle:e.handle,dragAxis:e.dragAxis,resizeAxis:e.resizeAxis,zIndexRange:e.zIndexRange},r)},i.onDragStart=function(r,e){if(i.setState({dragType:$.dragStart}),e&&i.canDrag()){var n=e.x,t=void 0===n?0:n,o=e.y,a=void 0===o?0:o,u=i.calPxToGridXY(t,a),d=u.GridX,l=u.GridY;i.props.onDragStart&&i.props.onDragStart(i.addEventParams({GridX:d,GridY:l}),r)}},i.onDrag=function(r,e){if(i.setState({dragType:$.draging}),e&&i.canDrag()){var n=e.x,t=void 0===n?0:n,o=e.y,a=void 0===o?0:o,u=i.calPxToGridXY(t,a),d=u.GridX,l=u.GridY;i.props.onDrag&&i.props.onDrag(i.addEventParams({GridX:d,GridY:l}),r)}},i.onDragEnd=function(r,e){if(i.setState({dragType:$.dragEnd}),e&&i.canDrag()){var n=e.x,t=void 0===n?0:n,o=e.y,a=void 0===o?0:o,u=i.calPxToGridXY(t,a),d=u.GridX,l=u.GridY;i.props.onDragEnd&&i.props.onDragEnd(i.addEventParams({GridX:d,GridY:l}),r)}},i.onResizeStart=function(r){i.setState({dragType:$.resizeStart}),i.props.onResizeStart&&i.props.onResizeStart(i.addEventParams({}),r)},i.onResizing=function(r,e){if(i.setState({dragType:$.resizing}),e&&i.canResize()){var n=e.width,t=e.height,o=i.calPxToWH(n,t),a=o.w,u=o.h;i.props.onResizing&&i.props.onResizing(i.addEventParams({w:a,h:u}),r)}},i.onResizeEnd=function(r,e){if(i.setState({dragType:$.resizeEnd}),e&&i.canResize()){var n=e.width,t=e.height,o=i.calPxToWH(n,t),a=o.w,u=o.h;i.props.onResizeEnd&&i.props.onResizeEnd(i.addEventParams({w:a,h:u}),r)}},i.canDrag=function(){var r=i.props,e=r.dragAxis,n=r.forbid,t=null===or.DragAxisCode||void 0===or.DragAxisCode?void 0:K()(or.DragAxisCode).call(or.DragAxisCode,(function(r){return null==e?void 0:Y()(e).call(e,r)}));return!n&&(!e||t)},i.canResize=function(){var r=i.props,e=r.resizeAxis,n=r.forbid,t=null===ir.DirectionCode||void 0===ir.DirectionCode?void 0:K()(ir.DirectionCode).call(ir.DirectionCode,(function(r){return null==e?void 0:Y()(e).call(e,r)}));return!n&&(!e||t)},i.state={dragType:void 0},i}return q()(n,[{key:"render",value:function(){var r,e,n=this.props,i=n.w,t=n.h,o=n.style,a=n.bounds,u=n.GridX,d=n.GridY,l=n.handle,s=n.dragAxis,c=n.resizeAxis,f=n.zIndexRange,p=n.children,v=n.className,g=this.state.dragType,h=this.calGridXYToPx(u,d),b=h.x,G=h.y,m=this.calWHtoPx(i,t),y=m.wPx,x=m.hPx,j=dr()((null==p||null===(r=p.props)||void 0===r?void 0:r.className)||"",v),w=null===(e=g&&[$.draging,$.resizing])||void 0===e?void 0:Y()(e).call(e,g);return X.a.createElement(ar.a,{className:j,axis:this.canDrag()?s:[],bounds:a,handle:l,onDragStart:this.onDragStart,onDrag:this.onDrag,onDragStop:this.onDragEnd,zIndexRange:f,x:b,y:G},X.a.createElement(tr.a,{onResizeStart:this.onResizeStart,onResizeMoving:this.onResizing,onResizeEnd:this.onResizeEnd,axis:this.canResize()?c:[],width:y,height:x},X.a.cloneElement(X.a.Children.only(p),{style:sr(sr(sr({},p.props.style),o),{},{position:"absolute",transition:w||!this.canDrag()?"":"all .2s ease-out"})})))}}]),n}(X.a.Component);function pr(r,e){var n=t()(r);if(a.a){var i=a()(r);e&&(i=d()(i).call(i,(function(e){return s()(r,e).enumerable}))),n.push.apply(n,i)}return n}function vr(r){for(var e=1;e<arguments.length;e++){var n,i,t=null!=arguments[e]?arguments[e]:{};e%2?f()(n=pr(Object(t),!0)).call(n,(function(e){G()(r,e,t[e])})):v.a?Object.defineProperties(r,v()(t)):f()(i=pr(Object(t))).call(i,(function(e){Object.defineProperty(r,e,s()(t,e))}))}return r}fr.defaultProps={cols:12,containerWidth:500,containerPadding:[0,0],margin:[10,10],rowHeight:30,w:1,h:1,dragAxis:or.DragAxisCode,resizeAxis:ir.DirectionCode};var gr=X.a.forwardRef((function(r,e){var n,i,t,o=Object(z.useState)([]),a=y()(o,2),u=a[0],d=a[1],l=Object(z.useState)(),s=y()(l,2),c=s[0],f=s[1],p=Object(z.useState)({}),v=y()(p,2),g=v[0],b=v[1],G=Object(z.useRef)(),m=Object(z.useRef)(function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){for(var i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];n||(n=setTimeout((function(){null==r||r.apply(void 0,t),n=null}),e))}}((function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return r.apply(void 0,n)}),16.7)).current;Object(z.useImperativeHandle)(e,(function(){return{getLayout:x}}));var x=function(){return u};Object(z.useEffect)((function(){P(r.layout,null==r?void 0:r.cols)}),[r.layout,null==r?void 0:r.cols]);var j,D,P=function(r,e){var n=function(r,e){for(var n=k()(r),i=0;i<(null==r?void 0:r.length)-1;i++){var t,o;n[i].GridX=null===(t=nr(e,n[i].GridX,n[i].GridY,n[i].w))||void 0===t?void 0:t.GridX,n[i].GridY=null===(o=nr(e,n[i+1].GridX,n[i+1].GridY,n[i+1].w))||void 0===o?void 0:o.GridY,Q(n[i],n[i+1])&&(n=V(n,n[i]))}return n}(r,e),i=er(n,void 0);d(i)},E=function(e,n){f($.dragStart),b({GridX:null==e?void 0:e.GridX,GridY:null==e?void 0:e.GridY,w:null==e?void 0:e.w,h:null==e?void 0:e.h}),r.onDragStart&&r.onDragStart(e,u,void 0,n)},R=function(e,n){m((function(){f($.draging);var i=V(u,e),t=er(i,e);d(t),b((function(r){return vr(vr({},r),{},{GridX:null==e?void 0:e.GridX,GridY:null==e?void 0:e.GridY})})),r.onDrag&&r.onDrag(e,u,t,n)}))},S=function(e,n){f($.dragEnd);var i=er(u,void 0);d(i),r.onDragEnd&&r.onDragEnd(e,u,i,n)},q=function(e,n){f($.resizeStart),b({GridX:null==e?void 0:e.GridX,GridY:null==e?void 0:e.GridY,w:null==e?void 0:e.w,h:null==e?void 0:e.h}),r.onResizeStart&&r.onResizeStart(e,u,void 0,n)},O=function(e,n){m((function(){var i=V(u,e),t=er(i,e);d(t),b((function(r){return vr(vr({},r),{},{w:null==e?void 0:e.w,h:null==e?void 0:e.h})})),r.onResizing&&r.onResizing(e,u,t,n)}))},A=function(e,n){f($.resizeEnd);var i=er(u,void 0);d(i),r.onResizeEnd&&r.onResizeEnd(e,u,i,n)},T=dr()("DraggerLayout",null==r?void 0:r.className);return X.a.createElement("div",{ref:G,className:T,style:vr(vr({},null==r?void 0:r.style),{},{width:(null==r?void 0:r.width)||(null===(n=G.current)||void 0===n||null===(i=n.style)||void 0===i?void 0:i.width),height:(j=function(r){for(var e,n=0,i=0,t=r.length;i<t;i++)"number"==typeof r[i].GridY&&"number"==typeof r[i].h&&(e=r[i].GridY+r[i].h)>n&&(n=e);return n}(u),D=r.padding?r.padding[1]:r.margin[1],j*r.rowHeight+(j-1)*r.margin[1]+2*D+"px")})},w()(t=X.a.Children).call(t,null==r?void 0:r.children,(function(e){if(e)return function(e){if(null!=u&&u.length){var n,i=null==e?void 0:e.key,t=function(r,e){for(var n=0,i=null==r?void 0:r.length;n<i;n++)if(r[n].uniqueKey===e)return r[n]}(u,i);if(!t)return;return X.a.createElement(fr,h()({},t,{margin:null==r?void 0:r.margin,cols:null==r?void 0:r.cols,bounds:G.current,containerWidth:null==r?void 0:r.width,containerPadding:null!==(n=null==r?void 0:r.padding)&&void 0!==n?n:[0,0],rowHeight:null==r?void 0:r.rowHeight,onDragStart:E,onDrag:R,onDragEnd:S,uniqueKey:i,onResizeStart:q,onResizing:O,onResizeEnd:A,zIndexRange:[2,10]}),e)}}(e)})),function(){var e,n;if(c&&!Y()(e=[$.dragEnd,$.resizeEnd]).call(e,c))return X.a.createElement(fr,{margin:null==r?void 0:r.margin,cols:null==r?void 0:r.cols,bounds:G.current,containerWidth:null==r?void 0:r.width,containerPadding:null!==(n=null==r?void 0:r.padding)&&void 0!==n?n:[0,0],rowHeight:null==r?void 0:r.rowHeight,zIndexRange:[1,9],style:{background:"rgba(15,15,15,0.3)",transition:" all .15s ease-out"},GridX:g.GridX,GridY:g.GridY,w:g.w,h:g.h,dragAxis:[],resizeAxis:[]},X.a.createElement("div",null))}())}));e.default=gr}]);