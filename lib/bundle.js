module.exports=function(r){var e={};function n(i){if(e[i])return e[i].exports;var t=e[i]={i:i,l:!1,exports:{}};return r[i].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=e,n.d=function(r,e,i){n.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:i})},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,e){if(1&e&&(r=n(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var t in r)n.d(i,t,function(e){return r[e]}.bind(null,t));return i},n.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(e,"a",e),e},n.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},n.p="",n(n.s=25)}([function(r,e){r.exports=require("react")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(r,e){r.exports=require("react-resize-zoom")},function(r,e){r.exports=require("react-free-draggable")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/includes")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(r,e){r.exports=require("classnames")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/slicedToArray")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/some")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/extends")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/map")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(r,e){r.exports=require("@babel/runtime-corejs3/helpers/esm/toConsumableArray")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/json/stringify")},function(r,e){r.exports=require("@babel/runtime-corejs3/core-js/instance/sort")},function(r,e,n){"use strict";n.r(e),n.d(e,"DragGridItem",(function(){return pr})),n.d(e,"DragTypes",(function(){return rr}));var i=n(7),t=n.n(i),o=n(1),a=n.n(o),u=n(8),d=n.n(u),l=n(2),s=n.n(l),c=n(3),f=n.n(c),p=n(4),v=n.n(p),g=n(16),h=n.n(g),G=n(9),b=n.n(G),m=n(13),x=n.n(m),y=n(10),j=n.n(y),Y=n(17),w=n.n(Y),z=n(0),X=n.n(z),D=n(11),P=n.n(D),E=n(18),S=n.n(E),R=n(19),q=n.n(R),O=n(20),A=n.n(O),T=n(21),C=n.n(T),H=n(14),W=n.n(H),M=n(15),K=n.n(M),I=n(22),N=n.n(I),_=n(23),k=n.n(_),B=n(24),L=n.n(B);function J(r,e){var n=t()(r);if(a.a){var i=a()(r);e&&(i=d()(i).call(i,(function(e){return s()(r,e).enumerable}))),n.push.apply(n,i)}return n}function F(r){for(var e=1;e<arguments.length;e++){var n,i,t=null!=arguments[e]?arguments[e]:{};e%2?f()(n=J(Object(t),!0)).call(n,(function(e){b()(r,e,t[e])})):v.a?Object.defineProperties(r,v()(t)):f()(i=J(Object(t))).call(i,(function(e){Object.defineProperty(r,e,s()(t,e))}))}return r}var Q,U=function(r,e){return r.GridX===e.GridX&&r.GridY===e.GridY&&r.w===e.w&&r.h===e.h||!(r.GridX+r.w<=e.GridX)&&(!(r.GridX>=e.GridX+e.w)&&(!(r.GridY+r.h<=e.GridY)&&!(r.GridY>=e.GridY+e.h)))},V=function(r,e){for(var n=0,i=r.length;n<i;n++)if(U(r[n],e))return r[n];return null},Z=(Q={},function(r,e){if(e.GridX===Q.GridX&&e.GridY===Q.GridY&&e.w===Q.w&&e.h===Q.h)return r;Q=F({},e);for(var n=null==e?void 0:e.uniqueKey,i=[],t=0;t<(null==r?void 0:r.length);t++){var o=null==r?void 0:r[t];if((null==o?void 0:o.uniqueKey)!==n)if(!U(o,e)||null!=o&&o.forbid)null==i||i.push(o);else{var a=void 0;a=e.GridY>o.GridY&&e.GridY<o.GridY+o.h?o.GridY:o.GridY+1;var u=F(F({},o),{},{GridY:a});null==i||i.push(u)}else{var d=F(F({},o),e);null==i||i.push(d)}}return i});var $,rr,er=function(r,e){if(e.forbid)return e;var n=F(F({},e),{},{uniqueKey:e.uniqueKey+""});if(0===r.length)return F(F({},n),{},{GridY:0});for(;;){var i=V(r,n);if(i)return n.GridY=i.GridY+i.h,n;if(n.GridY--,n.GridY<0)return F(F({},n),{},{GridY:0})}},nr=($={},function(r,e){if(e){if($.GridX===e.GridX&&$.GridY===e.GridY&&$.w===e.w&&$.h===e.h&&$.uniqueKey===e.uniqueKey)return r;$=e}for(var n=function(r){var e=JSON.parse(k()(r||[]));return null==e?void 0:L()(e).call(e,(function(r,e){return r.GridY>e.GridY||r.GridY===e.GridY&&r.GridX>e.GridX?r.forbid?0:1:r.GridY===e.GridY&&r.GridX===e.GridX?0:-1}))}(r),i=Array(r.length),t=[],o=0,a=n.length;o<a;o++){var u=er(t,n[o]);e&&e.uniqueKey===u.uniqueKey&&(e.GridX=u.GridX,e.GridY=u.GridY),t.push(u),i[o]=u}return i}),ir=function(r,e,n,i){return r+i>n-1&&(r=n-i),r<0&&(r=0),e<0&&(e=0),{GridX:r,GridY:e}},tr=n(5),or=n.n(tr),ar=n(6),ur=n.n(ar),dr=n(12),lr=n.n(dr);function sr(r,e){var n=t()(r);if(a.a){var i=a()(r);e&&(i=d()(i).call(i,(function(e){return s()(r,e).enumerable}))),n.push.apply(n,i)}return n}function cr(r){for(var e=1;e<arguments.length;e++){var n,i,t=null!=arguments[e]?arguments[e]:{};e%2?f()(n=sr(Object(t),!0)).call(n,(function(e){b()(r,e,t[e])})):v.a?Object.defineProperties(r,v()(t)):f()(i=sr(Object(t))).call(i,(function(e){Object.defineProperty(r,e,s()(t,e))}))}return r}function fr(r){var e=function(){if("undefined"==typeof Reflect||!P.a)return!1;if(P.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P()(Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var n,i=W()(r);if(e){var t=W()(this).constructor;n=P()(i,arguments,t)}else n=i.apply(this,arguments);return C()(this,n)}}!function(r){r.dragStart="dragStart",r.draging="draging",r.dragEnd="dragEnd",r.resizeStart="resizeStart",r.resizing="resizing",r.resizeEnd="resizeEnd"}(rr||(rr={}));var pr=function(r){A()(n,r);var e=fr(n);function n(r){var i;return S()(this,n),(i=e.call(this,r)).calcolsWidth=function(){var r=i.props,e=r.containerWidth,n=r.cols,t=r.containerPadding,o=r.margin;return o?(e-2*t[0]-o[0]*(n+1))/n:(e-2*t[0]-0*(n+1))/n},i.calGridXYToPx=function(r,e){var n=i.props,t=n.margin,o=n.rowHeight;return t||(t=[0,0]),{x:Math.round(r*i.calcolsWidth()+(r+1)*t[0]),y:Math.round(e*o+t[1]*(e+1))}},i.calPxToGridXY=function(r,e){var n=i.props,t=n.margin,o=n.containerWidth,a=n.cols,u=n.w,d=n.rowHeight,l=Math.round(r/o*a),s=Math.round(e/(d+(t?t[1]:0)));return ir(l,s,a,u)},i.calWHtoPx=function(r,e){var n=i.props,t=n.margin,o=n.rowHeight;return t||(t=[0,0]),{wPx:Math.round(r*i.calcolsWidth()+(r-1)*t[0]),hPx:Math.round(e*o+(e-1)*t[1])}},i.calPxToWH=function(r,e){var n=i.props,t=n.rowHeight,o=n.cols,a=n.GridX,u=i.calcolsWidth();return function(r,e,n,i){var t=e,o=n;return r+e>i-1&&(t=i-r),e<1&&(t=1),n<1&&(o=1),{w:t,h:o}}(a,Math.round((r-.5*u)/u),Math.round((e-.5*t)/t),o)},i.addEventParams=function(r){var e=i.props;return cr({GridX:e.GridX,GridY:e.GridY,w:e.w,h:e.h,uniqueKey:e.uniqueKey,margin:e.margin,forbid:e.forbid,handle:e.handle,dragAxis:e.dragAxis,resizeAxis:e.resizeAxis,zIndexRange:e.zIndexRange},r)},i.onDragStart=function(r,e){if(i.setState({dragType:rr.dragStart}),e&&i.canDrag()){var n=e.x,t=void 0===n?0:n,o=e.y,a=void 0===o?0:o,u=i.calPxToGridXY(t,a),d=u.GridX,l=u.GridY;i.props.onDragStart&&i.props.onDragStart(i.addEventParams({GridX:d,GridY:l}),r)}},i.onDrag=function(r,e){if(i.setState({dragType:rr.draging}),e&&i.canDrag()){var n=e.x,t=void 0===n?0:n,o=e.y,a=void 0===o?0:o,u=i.calPxToGridXY(t,a),d=u.GridX,l=u.GridY;i.props.onDrag&&i.props.onDrag(i.addEventParams({GridX:d,GridY:l}),r)}},i.onDragEnd=function(r,e){if(i.setState({dragType:rr.dragEnd}),e&&i.canDrag()){var n=e.x,t=void 0===n?0:n,o=e.y,a=void 0===o?0:o,u=i.calPxToGridXY(t,a),d=u.GridX,l=u.GridY;i.props.onDragEnd&&i.props.onDragEnd(i.addEventParams({GridX:d,GridY:l}),r)}},i.onResizeStart=function(r){i.setState({dragType:rr.resizeStart}),i.props.onResizeStart&&i.props.onResizeStart(i.addEventParams({}),r)},i.onResizing=function(r,e){if(i.setState({dragType:rr.resizing}),e&&i.canResize()){var n=e.width,t=e.height,o=i.calPxToWH(n,t),a=o.w,u=o.h;i.props.onResizing&&i.props.onResizing(i.addEventParams({w:a,h:u}),r)}},i.onResizeEnd=function(r,e){if(i.setState({dragType:rr.resizeEnd}),e&&i.canResize()){var n=e.width,t=e.height,o=i.calPxToWH(n,t),a=o.w,u=o.h;i.props.onResizeEnd&&i.props.onResizeEnd(i.addEventParams({w:a,h:u}),r)}},i.canDrag=function(){var r=i.props,e=r.dragAxis,n=r.forbid,t=null===ar.DragAxisCode||void 0===ar.DragAxisCode?void 0:K()(ar.DragAxisCode).call(ar.DragAxisCode,(function(r){return null==e?void 0:j()(e).call(e,r)}));return!n&&(!e||t)},i.canResize=function(){var r=i.props,e=r.resizeAxis,n=r.forbid,t=null===tr.DirectionCode||void 0===tr.DirectionCode?void 0:K()(tr.DirectionCode).call(tr.DirectionCode,(function(r){return null==e?void 0:j()(e).call(e,r)}));return!n&&(!e||t)},i.state={dragType:void 0},i}return q()(n,[{key:"render",value:function(){var r,e,n=this.props,i=n.w,t=n.h,o=n.style,a=n.bounds,u=n.GridX,d=n.GridY,l=n.handle,s=n.dragAxis,c=n.resizeAxis,f=n.zIndexRange,p=n.children,v=n.className,g=this.state.dragType,h=this.calGridXYToPx(u,d),G=h.x,b=h.y,m=this.calWHtoPx(i,t),x=m.wPx,y=m.hPx,Y=lr()((null==p||null===(r=p.props)||void 0===r?void 0:r.className)||"",v),w=null===(e=g&&[rr.draging,rr.resizing])||void 0===e?void 0:j()(e).call(e,g);return X.a.createElement(ur.a,{className:Y,axis:this.canDrag()?s:[],bounds:a,handle:l,onDragStart:this.onDragStart,onDrag:this.onDrag,onDragStop:this.onDragEnd,zIndexRange:f,x:G,y:b},X.a.createElement(or.a,{onResizeStart:this.onResizeStart,onResizeMoving:this.onResizing,onResizeEnd:this.onResizeEnd,axis:this.canResize()?c:[],width:x,height:y},X.a.cloneElement(X.a.Children.only(p),{style:cr(cr(cr({},p.props.style),o),{},{position:"absolute",transition:w||!this.canDrag()?"":"all .2s ease-out"})})))}}]),n}(X.a.Component);function vr(r,e){var n=t()(r);if(a.a){var i=a()(r);e&&(i=d()(i).call(i,(function(e){return s()(r,e).enumerable}))),n.push.apply(n,i)}return n}function gr(r){for(var e=1;e<arguments.length;e++){var n,i,t=null!=arguments[e]?arguments[e]:{};e%2?f()(n=vr(Object(t),!0)).call(n,(function(e){b()(r,e,t[e])})):v.a?Object.defineProperties(r,v()(t)):f()(i=vr(Object(t))).call(i,(function(e){Object.defineProperty(r,e,s()(t,e))}))}return r}pr.defaultProps={cols:12,containerWidth:500,containerPadding:[0,0],margin:[10,10],rowHeight:30,w:1,h:1,dragAxis:ar.DragAxisCode,resizeAxis:tr.DirectionCode};var hr=X.a.forwardRef((function(r,e){var n,i,t,o=Object(z.useState)([]),a=x()(o,2),u=a[0],d=a[1],l=Object(z.useState)(),s=x()(l,2),c=s[0],f=s[1],p=Object(z.useState)({GridX:0,GridY:0,w:0,h:0}),v=x()(p,2),g=v[0],G=v[1],b=Object(z.useRef)(),m=Object(z.useRef)(function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){for(var i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];n||(n=setTimeout((function(){null==r||r.apply(void 0,t),n=null}),e))}}((function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return r.apply(void 0,n)}),16.7)).current;Object(z.useImperativeHandle)(e,(function(){return{getLayout:y}}));var y=function(){return u};Object(z.useEffect)((function(){P(r.layout,null==r?void 0:r.cols)}),[r.layout,null==r?void 0:r.cols]);var Y,D,P=function(r,e){var n=function(r,e){for(var n=N()(r),i=0;i<(null==r?void 0:r.length)-1;i++){var t,o;n[i].GridX=null===(t=ir(n[i].GridX,n[i].GridY,e,n[i].w))||void 0===t?void 0:t.GridX,n[i].GridY=null===(o=ir(n[i+1].GridX,n[i+1].GridY,e,n[i+1].w))||void 0===o?void 0:o.GridY,U(n[i],n[i+1])&&(n=Z(n,n[i]))}return n}(r,e),i=nr(n,void 0);d(i)},E=function(e,n){f(rr.dragStart),G({GridX:null==e?void 0:e.GridX,GridY:null==e?void 0:e.GridY,w:null==e?void 0:e.w,h:null==e?void 0:e.h}),r.onDragStart&&r.onDragStart(e,u,void 0,n)},S=function(e,n){m((function(){f(rr.draging);var i=Z(u,e),t=nr(i,e);d(t),G((function(r){return gr(gr({},r),{},{GridX:null==e?void 0:e.GridX,GridY:null==e?void 0:e.GridY})})),r.onDrag&&r.onDrag(e,u,t,n)}))},R=function(e,n){f(rr.dragEnd);var i=nr(u,void 0);d(i),r.onDragEnd&&r.onDragEnd(e,u,i,n)},q=function(e,n){f(rr.resizeStart),G({GridX:null==e?void 0:e.GridX,GridY:null==e?void 0:e.GridY,w:null==e?void 0:e.w,h:null==e?void 0:e.h}),r.onResizeStart&&r.onResizeStart(e,u,void 0,n)},O=function(e,n){m((function(){var i=Z(u,e),t=nr(i,e);d(t),G((function(r){return gr(gr({},r),{},{w:null==e?void 0:e.w,h:null==e?void 0:e.h})})),r.onResizing&&r.onResizing(e,u,t,n)}))},A=function(e,n){f(rr.resizeEnd);var i=nr(u,void 0);d(i),r.onResizeEnd&&r.onResizeEnd(e,u,i,n)},T=lr()("DraggerLayout",null==r?void 0:r.className);return X.a.createElement("div",{ref:b,className:T,style:gr(gr({},null==r?void 0:r.style),{},{width:(null==r?void 0:r.width)||(null===(n=b.current)||void 0===n||null===(i=n.style)||void 0===i?void 0:i.width),height:(Y=function(r){for(var e,n=0,i=0,t=r.length;i<t;i++)(e=r[i].GridY+r[i].h)>n&&(n=e);return n}(u),D=r.padding?r.padding[1]:r.margin[1],Y*r.rowHeight+(Y-1)*r.margin[1]+2*D+"px")})},w()(t=X.a.Children).call(t,null==r?void 0:r.children,(function(e){if(e)return function(e){if(null!=u&&u.length){var n,i=null==e?void 0:e.key,t=function(r,e){for(var n=0,i=null==r?void 0:r.length;n<i;n++)if(r[n].uniqueKey===e)return r[n]}(u,i);if(!t)return;return X.a.createElement(pr,h()({},t,{margin:null==r?void 0:r.margin,cols:null==r?void 0:r.cols,bounds:b.current,containerWidth:null==r?void 0:r.width,containerPadding:null!==(n=null==r?void 0:r.padding)&&void 0!==n?n:[0,0],rowHeight:null==r?void 0:r.rowHeight,onDragStart:E,onDrag:S,onDragEnd:R,uniqueKey:i,onResizeStart:q,onResizing:O,onResizeEnd:A,zIndexRange:[2,10]}),e)}}(e)})),function(){var e,n;if(!c||!j()(e=[rr.dragEnd,rr.resizeEnd]).call(e,c))return X.a.createElement(pr,{margin:null==r?void 0:r.margin,cols:null==r?void 0:r.cols,bounds:b.current,containerWidth:null==r?void 0:r.width,containerPadding:null!==(n=null==r?void 0:r.padding)&&void 0!==n?n:[0,0],rowHeight:null==r?void 0:r.rowHeight,zIndexRange:[1,9],style:{background:"rgba(15,15,15,0.3)",transition:" all .15s ease-out"},GridX:g.GridX,GridY:g.GridY,w:g.w,h:g.h,dragAxis:[],resizeAxis:[]},X.a.createElement("div",null))}())}));e.default=hr}]);