module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=32)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/includes")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/slicedToArray")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/typeof")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/extends")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/concat")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/some")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(e,n){e.exports=require("react-dom")},function(e,n){e.exports=require("classnames")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/map")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/index-of")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/parse-int")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/map")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/set")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/values")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/slice")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/toConsumableArray")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/sort")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/objectWithoutProperties")},function(e,n,t){"use strict";t.r(n),t.d(n,"DragGridItem",(function(){return Mn})),t.d(n,"DragTypes",(function(){return On}));var r=t(6),i=t.n(r),o=t(2),a=t.n(o),l=t(7),u=t.n(l),d=t(3),c=t.n(d),s=t(4),v=t.n(s),f=t(5),p=t.n(f),h=t(8),g=t.n(h),m=t(13),y=t.n(m),b=t(10),x=t.n(b),D=t(22),w=t.n(D),E=t(0),j=t.n(E),S=t(9),Y=t.n(S),O=t(16),z=t.n(O),G=t(17),X=t.n(G),R=t(18),P=t.n(R),M=t(19),N=t.n(M),q=t(11),W=t.n(q),H=t(15),T=t.n(H),L=t(1),I=t.n(L),A=t(29),C=t.n(A),k=t(14),K=t.n(k),B=t(28),V=t.n(B),U=t(30),_=t.n(U),F=t(12),J=t.n(F),Q=t(25),Z=t.n(Q),$=t(26),ee=t.n($);function ne(e){return Object.prototype.toString.call(e)}function te(e){return"[object Number]"==ne(e)}function re(e,n){var t=i()(e);if(a.a){var r=a()(e);n&&(r=u()(r).call(r,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,r)}return t}function ie(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)v()(t=re(Object(r),!0)).call(t,(function(n){g()(e,n,r[n])}));else if(p.a)Object.defineProperties(e,p()(r));else{var i;v()(i=re(Object(r))).call(i,(function(n){Object.defineProperty(e,n,c()(r,n))}))}}return e}var oe,ae=function(e,n){if(e){var t=n.uniqueKey;return e[t].GridX=n.GridX,e[t].GridY=n.GridY,e[t].isMove=!0,e}},le=function(e,n){return e.GridX===n.GridX&&e.GridY===n.GridY&&e.w===n.w&&e.h===n.h||!(e.GridX+e.w<=n.GridX)&&(!(e.GridX>=n.GridX+n.w)&&(!(e.GridY+e.h<=n.GridY)&&!(e.GridY>=n.GridY+n.h)))},ue=function(e,n){for(var t=0,r=e.length;t<r;t++)if(le(e[t],n))return e[t];return null},de=(oe={},function e(n,t,r,i){if(t.GridX===oe.GridX&&t.GridY===oe.GridY&&t.w===oe.w&&t.h===oe.h)return n;oe=ie({},t);for(var o=[],a=[],l=w()(n).call(n,(function(e,n){if(e.uniqueKey!==r){if(e.forbid)return e;if(le(e,t)){o.push(e.uniqueKey);var l=e.GridY+1;t.GridY>e.GridY&&t.GridY<e.GridY+e.h&&(l=e.GridY);var u=ie(ie({},e),{},{GridY:l,isMove:!1});return a.push(u),u}}else if(i===r)return ie(ie({},e),t);return e})),u=0;u<(null==a?void 0:a.length);u++)l=e(l,a[u],o[u],i);return l});function ce(e){var n,t,r;return e.length<=1?e:K()(n=ce(u()(t=V()(e).call(e,1)).call(t,(function(n){return n<=e[0]})))).call(n,e[0],ce(u()(r=V()(e).call(e,1)).call(r,(function(n){return n>e[0]}))))}var se,ve,fe=(se=0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!1!==i){var o=e.length,a=e[o-1];if(a.GridY+a.h===se)return r;se=a.GridY+a.h}var l=null==e?void 0:w()(e).call(e,(function(e){return e.GridY+e.h})),u=ce(l)[(null==l?void 0:l.length)-1],d=te(u)?u*(n+t)+t:0;return d}),pe=function(e,n){if(n.forbid)return n;var t=ie(ie({},n),{},{uniqueKey:n.uniqueKey+""});if(0===e.length)return ie(ie({},t),{},{GridY:0});for(;;){var r=ue(e,t);if(r)return t.GridY=r.GridY+r.h,t;if(t.GridY--,t.GridY<0)return ie(ie({},t),{},{GridY:0})}},he=(ve={},function(e,n,t){if(n){if(ve.GridX===n.GridX&&ve.GridY===n.GridY&&ve.w===n.w&&ve.h===n.h&&ve.uniqueKey===n.uniqueKey)return{compacted:e,mapLayout:t};ve=n}for(var r=function(e){var n,t;return _()(n=K()(t=[]).call(t,e)).call(n,(function(e,n){return e.GridY>n.GridY||e.GridY===n.GridY&&e.GridX>n.GridX?e.forbid?0:1:e.GridY===n.GridY&&e.GridX===n.GridX?0:-1}))}(e),i=Array(e.length),o=[],a={},l=0,u=r.length;l<u;l++){var d=pe(o,r[l]);n&&n.uniqueKey===d.uniqueKey?(n.GridX=d.GridX,n.GridY=d.GridY,d.isMove=!0):d.isMove=!1,o.push(d),i[l]=d,a[d.uniqueKey+""]=d}return{compacted:i,mapLayout:a}}),ge=function(e,n,t,r){return e+r>t-1&&(e=t-r),e<0&&(e=0),n<0&&(n=0),{GridX:e,GridY:n}},me=function(e,n){var t=ge(e.GridX,e.GridY,n,e.w);return{GridX:t.GridX,GridY:t.GridY}},ye=t(23),be=t.n(ye);function xe(e,n){var t=i()(e);if(a.a){var r=a()(e);n&&(r=u()(r).call(r,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,r)}return t}function De(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)v()(t=xe(Object(r),!0)).call(t,(function(n){g()(e,n,r[n])}));else if(p.a)Object.defineProperties(e,p()(r));else{var i;v()(i=xe(Object(r))).call(i,(function(n){Object.defineProperty(e,n,c()(r,n))}))}}return e}function we(e){return e.getBoundingClientRect()}function Ee(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body||document.documentElement,t=null;if("clientX"in e)t={x:(null==e?void 0:e.clientX)-we(n).left,y:(null==e?void 0:e.clientY)-we(n).top};else if("touches"in e){var r,i;if(null!=e&&e.touches[0])t={x:(null==e||null===(r=e.touches[0])||void 0===r?void 0:r.clientX)-we(n).left,y:(null==e||null===(i=e.touches[0])||void 0===i?void 0:i.clientY)-we(n).top}}return t}function je(e){var n,t;if(t=e,"object"===("undefined"==typeof HTMLElement?"undefined":J()(HTMLElement))?t instanceof HTMLElement:t&&"object"===J()(t)&&1===t.nodeType&&"string"==typeof t.nodeName)return I()(n=[document.documentElement,document.body]).call(n,e)?{width:window.innerWidth,height:window.innerHeight}:{width:e.offsetWidth,height:e.offsetHeight}}function Se(e,n,t,r){if(e){var i=De({capture:!1,once:!1,passive:!1},r);e.addEventListener?e.addEventListener(n,t,i):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}}function Ye(e,n,t,r){if(e){var i=De({capture:!1,once:!1,passive:!1},r);e.removeEventListener?e.removeEventListener(n,t,i):e.detachEvent?e.detachEvent("on"+n,t):e["on"+n]=null}}var Oe,ze,Ge=t(27),Xe=t.n(Ge);!function(e){e.resizeStart="resizeStart",e.resizing="resizing",e.resizeEnd="resizeEnd"}(Oe||(Oe={})),function(e){e.N="n",e.S="s",e.W="w",e.E="e",e.NE="ne",e.NW="nw",e.SE="se",e.SW="sw"}(ze||(ze={}));var Re=Xe()(ze),Pe=t(20),Me=t.n(Pe);function Ne(e,n){var t=i()(e);if(a.a){var r=a()(e);n&&(r=u()(r).call(r,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,r)}return t}function qe(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)v()(t=Ne(Object(r),!0)).call(t,(function(n){g()(e,n,r[n])}));else if(p.a)Object.defineProperties(e,p()(r));else{var i;v()(i=Ne(Object(r))).call(i,(function(n){Object.defineProperty(e,n,c()(r,n))}))}}return e}function We(e){var n=function(){if("undefined"==typeof Reflect||!Y.a)return!1;if(Y.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Y()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=W()(e);if(n){var i=W()(this).constructor;t=Y()(r,arguments,i)}else t=r.apply(this,arguments);return N()(this,t)}}var He,Te,Le={touch:{start:"touchstart",move:"touchmove",stop:"touchend",cancel:"touchcancel"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup",cancel:"dragover"}},Ie=(He=navigator.userAgent,Te=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],T()(Te).call(Te,(function(e){return I()(He).call(He,e)}))?Le.touch:Le.mouse),Ae=function(e){P()(t,e);var n=We(t);function t(e){var r;return z()(this,t),(r=n.call(this,e)).dragging=void 0,r.findOwnerDocument=function(){var e,n,t=r.findDOMNode(),i=null==t||null===(e=t.ownerDocument)||void 0===e||null===(n=e.defaultView)||void 0===n?void 0:n.getComputedStyle(t);if("inline"===(null==i?void 0:i.display))throw new Error("the style of `props.children` cannot is `inline`!");return null==t?void 0:t.ownerDocument},r.updateState=function(){var e,n;r.dragging||r.setState({eventData:qe(qe({},r.state.eventData),{},{width:null===(e=r.props)||void 0===e?void 0:e.width,height:null===(n=r.props)||void 0===n?void 0:n.height})})},r.addEvents=function(){var e=r.findOwnerDocument();Se(e,Ie.move,r.onMove),Se(e,Ie.stop,r.onResizeEnd),Se(e,Ie.cancel,r.onResizeEnd)},r.removeEvents=function(){var e=r.findOwnerDocument();Ye(e,Ie.move,r.onMove),Ye(e,Ie.stop,r.onResizeEnd),Ye(e,Ie.cancel,r.onResizeEnd)},r.getDirection=function(e){var n=r.findDOMNode(),t=Ee(e,n),i=je(n),o=r.props.offset;if(!t||!i)return"";var a=o,l=t.x,u=t.y,d="";return u<a&&u>-a?d+=ze.N:u>(null==i?void 0:i.height)-a&&u<(null==i?void 0:i.height)+a&&(d+=ze.S),l<a&&l>-a?d+=ze.W:l>(null==i?void 0:i.width)-a&&l<(null==i?void 0:i.width)+a&&(d+=ze.E),d},r.getMouseCursor=function(e){var n,t,i=r.props.axis;return null!==(n=[ze.N,ze.S])&&void 0!==n&&I()(n).call(n,e)&&(null!=i&&I()(i).call(i,ze.N)||null!=i&&I()(i).call(i,ze.S))?"row-resize":null!==(t=[ze.W,ze.E])&&void 0!==t&&I()(t).call(t,e)&&(null!=i&&I()(i).call(i,ze.W)||null!=i&&I()(i).call(i,ze.E))?"col-resize":2===(null==e?void 0:e.length)&&(null!=i&&I()(i).call(i,ze.NE)||null!=i&&I()(i).call(i,ze.NW)||null!=i&&I()(i).call(i,ze.SE)||null!=i&&I()(i).call(i,ze.SW))?e+"-resize":"default"},r.canDragX=function(e){var n=r.props.axis;return((null==n?void 0:I()(n).call(n,ze.W))||(null==n?void 0:I()(n).call(n,ze.E))||(null==n?void 0:I()(n).call(n,ze.NW))||(null==n?void 0:I()(n).call(n,ze.NE))||(null==n?void 0:I()(n).call(n,ze.SW))||(null==n?void 0:I()(n).call(n,ze.SE)))&&(be()(e).call(e,ze.W)>-1||be()(e).call(e,ze.E)>-1)},r.canDragY=function(e){var n=r.props.axis;return((null==n?void 0:I()(n).call(n,ze.S))||(null==n?void 0:I()(n).call(n,ze.N))||(null==n?void 0:I()(n).call(n,ze.NW))||(null==n?void 0:I()(n).call(n,ze.NE))||(null==n?void 0:I()(n).call(n,ze.SW))||(null==n?void 0:I()(n).call(n,ze.SE)))&&(be()(e).call(e,ze.S)>-1||be()(e).call(e,ze.N)>-1)},r.mouseOver=function(e){var n=r.findDOMNode(),t=r.getDirection(e),i=r.getMouseCursor(t);n.style.cursor=i},r.onResizeStart=function(e){var n,t,i=r.props,o=i.forbid,a=i.zIndexRange;if(!o){var l=r.getDirection(e);if("default"!==r.getMouseCursor(l)){e.stopImmediatePropagation(),e.preventDefault();var u=r.findDOMNode(),d=Ee(e,u),c=je(u);if(d&&c){var s={node:u,dir:l,width:null==c?void 0:c.width,height:null==c?void 0:c.height,zIndex:null==a?void 0:a[1],eventX:null==d?void 0:d.x,eventY:null==d?void 0:d.y,lastEventX:null==d?void 0:d.x,lastEventY:null==d?void 0:d.y,lastW:null==c?void 0:c.width,lastH:null==c?void 0:c.height};(null===(n=r.props)||void 0===n?void 0:n.onResizeStart)&&(null===(t=r.props)||void 0===t||t.onResizeStart(e,s)),r.dragging=!0,r.setState({eventData:s}),r.addEvents()}}}},r.onMove=function(e){var n,t,i=r.props,o=i.forbid,a=i.zIndexRange;if(!o){e.preventDefault();var l=r.findDOMNode();if(r.dragging){var u=Ee(e,l),d=je(l);if(u&&d){var c=r.state.eventData||{},s=c.dir,v=c.lastEventX,f=void 0===v?0:v,p=c.lastEventY,h=void 0===p?0:p,g=c.lastW,m=void 0===g?0:g,y=c.lastH,b=void 0===y?0:y;if(s){var x,D;x=(null==u?void 0:u.x)-f,D=(null==u?void 0:u.y)-h;var w=qe(qe({},r.state.eventData),{},{node:l,eventX:null==u?void 0:u.x,eventY:null==u?void 0:u.y,width:r.canDragX(s)?m+x:m,height:r.canDragY(s)?b+D:b,zIndex:null==a?void 0:a[1]});(null===(n=r.props)||void 0===n?void 0:n.onResizeMoving)&&(null===(t=r.props)||void 0===t||t.onResizeMoving(e,w)),r.setState({eventData:w})}}}}},r.onResizeEnd=function(e){var n=r.props,t=n.forbid,i=n.zIndexRange;if(!t&&(e.preventDefault(),r.dragging&&r.state.eventData)){var o=qe(qe({},r.state.eventData),{},{zIndex:null==i?void 0:i[0]});r.props.onResizeEnd&&r.props.onResizeEnd(e,o),r.dragging=!1,r.setState({eventData:o}),r.removeEvents()}},r.dragging=!1,r.state={},r}return X()(t,[{key:"componentDidUpdate",value:function(e,n){var t,r,i=void 0!==this.props.width&&(this.props.width!==e.width||this.props.width!==(null===(t=n.eventData)||void 0===t?void 0:t.width)),o=void 0!==this.props.height&&(this.props.height!==e.height||this.props.height!==(null===(r=n.eventData)||void 0===r?void 0:r.height));(i||o)&&this.updateState()}},{key:"componentDidMount",value:function(){var e,n,t=this.findDOMNode();this.setState({eventData:{node:t,width:null===(e=this.props)||void 0===e?void 0:e.width,height:null===(n=this.props)||void 0===n?void 0:n.height}}),Se(t,Ie.start,this.onResizeStart),Se(t,Ie.move,this.mouseOver)}},{key:"componentWillUnmount",value:function(){var e=this.findDOMNode();Ye(e,Ie.start,this.onResizeStart),Ye(e,Ie.move,this.mouseOver),this.removeEvents()}},{key:"findDOMNode",value:function(){var e,n;return(null===(e=this.props)||void 0===e||null===(n=e.forwardedRef)||void 0===n?void 0:n.current)||Me.a.findDOMNode(this)}},{key:"render",value:function(){var e,n,t,r,i,o=this.props,a=o.children,l=o.forwardedRef,u=o.className,d=o.style,c=this.state.eventData,s=function(e){var n;return null!==(n=null==d?void 0:d[e])&&void 0!==n?n:a.props.style[e]};return j.a.cloneElement(j.a.Children.only(a),{className:null!=u?u:null===(e=a.props)||void 0===e?void 0:e.className,ref:l,style:qe(qe(qe({},null===(n=a.props)||void 0===n?void 0:n.style),d),{},{width:null!==(t=null==c?void 0:c.width)&&void 0!==t?t:s("width"),height:null!==(r=null==c?void 0:c.height)&&void 0!==r?r:s("height"),zIndex:null!==(i=null==c?void 0:c.zIndex)&&void 0!==i?i:s("zIndex")})})}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t,r,i=void 0!==e.width&&(e.width!==n.prevWidth||e.width!==(null===(t=n.eventData)||void 0===t?void 0:t.width)),o=void 0!==e.height&&(e.height!==n.prevHeight||e.height!==(null===(r=n.eventData)||void 0===r?void 0:r.height));return i?qe(qe({},n),{},{prevWidth:e.width}):o?qe(qe({},n),{},{prevHeight:e.height}):null}}]),t}(j.a.Component);Ae.defaultProps={offset:10,axis:Re};var Ce,ke=(Ce=Ae,j.a.forwardRef((function(e,n){return j.a.createElement(Ce,y()({forwardedRef:n},e))}))),Ke=t(31),Be=t.n(Ke),Ve=t(21),Ue=t.n(Ve),_e=t(24),Fe=t.n(_e);function Je(e){return Object.prototype.toString.call(e)}function Qe(e){return"object"===("undefined"==typeof HTMLElement?"undefined":J()(HTMLElement))?e instanceof HTMLElement:e&&"object"===J()(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function Ze(e){return"[object Number]"==Je(e)}function $e(e,n){var t=i()(e);if(a.a){var r=a()(e);n&&(r=u()(r).call(r,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,r)}return t}function en(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)v()(t=$e(Object(r),!0)).call(t,(function(n){g()(e,n,r[n])}));else if(p.a)Object.defineProperties(e,p()(r));else{var i;v()(i=$e(Object(r))).call(i,(function(n){Object.defineProperty(e,n,c()(r,n))}))}}return e}var nn=function(e){if(e){var n,t,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: red;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {background: red;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n=e.body,t="react-draggable-transparent-selection",n.classList?n.classList.add(t):n.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(n.className+=" ".concat(t)))}};function tn(e){var n,t;if(e)try{if(e.body&&(n=e.body,t="react-draggable-transparent-selection",n.classList?n.classList.remove(t):n.className=n.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")),e.selection)e.selection.empty();else{var r=(e.defaultView||window).getSelection();r&&"Caret"!==r.type&&r.removeAllRanges()}}catch(e){}}function rn(e,n,t){var r,i,o,a=K()(r=K()(i=K()(o="translate3d(".concat(e.x)).call(o,t,",")).call(i,e.y)).call(r,t,", 0)");if(n){var l,u="".concat("string"==typeof n.x?n.x:n.x+t),d="".concat("string"==typeof n.y?n.y:n.y+t);a=K()(l="translate3d(".concat(u,",")).call(l,d,", 0)")}return a}function on(e,n){return rn(e,n,"px")}function an(e,n){return rn(e,n,"")}function ln(e,n,t){if(r=t,Array.isArray(r)||"string"==typeof r||r instanceof String?0===r.length:r instanceof Z.a||r instanceof ee.a?0===r.size:"[object Object]"==={}.toString.call(r)?0===i()(r).length:null==r)return n;var r,o=function(e,n){var t,r,i=dn(n)||dn(null==n?void 0:n.boundsParent);if(Qe(e)&&Qe(i)){if(a=e,!(o=i)||o===a||!o.contains(a))throw new Error("`parent` is not parentNode of the child");var o,a,l=null==e||null===(t=e.ownerDocument)||void 0===t||null===(r=t.defaultView)||void 0===r?void 0:r.getComputedStyle(e),u=e.clientWidth+Fe()(null==l?void 0:l.borderLeftWidth)+Fe()(null==l?void 0:l.borderRightWidth),d=e.clientHeight+Fe()(null==l?void 0:l.borderTopWidth)+Fe()(null==l?void 0:l.borderBottomWidth),c=i.clientWidth,s=i.clientHeight,v=c-u>0?c-u:0,f=s-d>0?s-d:0;return dn(n)?{left:0,right:v+0,top:0,bottom:f+0}:{left:Math.max(0,(null==n?void 0:n.left)||0),right:Math.min(v,(null==n?void 0:n.right)||0),top:Math.max(0,(null==n?void 0:n.top)||0),bottom:Math.min(f,(null==n?void 0:n.bottom)||0)}}}(e,t);if(!o)return n;var a=o.left,l=o.top,u=o.right,d=o.bottom,c=n.x,s=n.y;return Ze(u)&&(c=Math.min(c,u)),Ze(d)&&(s=Math.min(s,d)),Ze(a)&&(c=Math.max(c,a)),Ze(l)&&(s=Math.max(s,l)),{x:c,y:s}}var un,dn=function(e){var n=null;return"string"==typeof e?n=document.querySelector(e):Qe(e)&&(n=e),n};function cn(e){return e.getBoundingClientRect()}function sn(e){var n;if(Qe(e))return I()(n=[document.documentElement,document.body]).call(n,e)?{width:window.innerWidth,height:window.innerHeight}:{width:e.offsetWidth,height:e.offsetHeight}}function vn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body||document.documentElement,t=null;if(Qe(e)){var r,i,o=(null===(r=sn(e))||void 0===r?void 0:r.width)||0,a=(null===(i=sn(e))||void 0===i?void 0:i.height)||0,l=cn(e).top-cn(n).top,u=cn(e).left-cn(n).left;return{left:u,top:l,right:u+o,bottom:l+a}}return t}function fn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body||document.documentElement,t=null;if("clientX"in e)t={x:(null==e?void 0:e.clientX)-cn(n).left,y:(null==e?void 0:e.clientY)-cn(n).top};else if("touches"in e){var r,i;if(null!=e&&e.touches[0])t={x:(null==e||null===(r=e.touches[0])||void 0===r?void 0:r.clientX)-cn(n).left,y:(null==e||null===(i=e.touches[0])||void 0===i?void 0:i.clientY)-cn(n).top}}return t}function pn(e,n){var t=e;do{var r;if(t===n)return!0;if(I()(r=[document.documentElement,document.body]).call(r,t))return!1;t=t.parentNode}while(t);return!1}function hn(e,n,t,r){if(e){var i=en({capture:!1,once:!1,passive:!1},r);e.addEventListener?e.addEventListener(n,t,i):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}}function gn(e,n,t,r){if(e){var i=en({capture:!1,once:!1,passive:!1},r);e.removeEventListener?e.removeEventListener(n,t,i):e.detachEvent?e.detachEvent("on"+n,t):e["on"+n]=null}}!function(e){e.x="x",e.y="y"}(un||(un={}));var mn=Xe()(un);function yn(e,n){var t=i()(e);if(a.a){var r=a()(e);n&&(r=u()(r).call(r,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,r)}return t}function bn(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)v()(t=yn(Object(r),!0)).call(t,(function(n){g()(e,n,r[n])}));else if(p.a)Object.defineProperties(e,p()(r));else{var i;v()(i=yn(Object(r))).call(i,(function(n){Object.defineProperty(e,n,c()(r,n))}))}}return e}function xn(e){var n=function(){if("undefined"==typeof Reflect||!Y.a)return!1;if(Y.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Y()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=W()(e);if(n){var i=W()(this).constructor;t=Y()(r,arguments,i)}else t=r.apply(this,arguments);return N()(this,t)}}var Dn={touch:{start:"touchstart",move:"touchmove",stop:"touchend",cancel:"touchcancel"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup",cancel:"dragover"}},wn=function(){var e=navigator.userAgent,n=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];return T()(n).call(n,(function(n){return I()(e).call(e,n)}))}()?Dn.touch:Dn.mouse,En=function(e){return j.a.forwardRef((function(n,t){return j.a.createElement(e,y()({forwardedRef:t},n))}))}(function(e){P()(t,e);var n=xn(t);function t(e){var r;return z()(this,t),(r=n.call(this,e)).dragging=void 0,r.eventData=void 0,r.child=void 0,r.findOwnerDocument=function(){var e=r.findDOMNode();return null==e?void 0:e.ownerDocument},r.findHandle=function(){var e,n,t=r.findDOMNode(),i=null==t||null===(e=t.ownerDocument)||void 0===e||null===(n=e.defaultView)||void 0===n?void 0:n.getComputedStyle(t),o=r.props.handle&&dn(r.props.handle)||t;if("inline"===(null==i?void 0:i.display))throw new Error("the style of `props.children` cannot is `inline`, because `transform` has no effect on Element ");return o},r.findDisabledNode=function(){return r.props.disabledNode&&dn(r.props.disabledNode)},r.getLocationParent=function(){var e;return dn(null===(e=r.props)||void 0===e?void 0:e.locationParent)||document.body||document.documentElement},r.handleDragStart=function(e){var n,t,i,o,a,l,u=r.findHandle(),d=r.findDOMNode(),c=r.findDisabledNode(),s=r.findOwnerDocument();if(e.preventDefault(),!s)throw new Error("<DraggableEvent> not mounted on DragStart!");if((null!==(n=r.props)&&void 0!==n&&n.allowAnyClick||function(e){return"touches"in e||"targetTouches"in e||"changedTouches"in e}(e)||"number"!=typeof e.button||0===e.button)&&("touchstart"===e.type&&e.preventDefault(),!(null!==(t=r.props)&&void 0!==t&&t.disabled||!(e.target instanceof(null==s||null===(i=s.defaultView)||void 0===i?void 0:i.Node))||u&&!pn(e.target,u)||c&&pn(e.target,c)))){var v=fn(e,r.getLocationParent());if(v){var f=null==v?void 0:v.x,p=null==v?void 0:v.y;r.eventData={node:d,deltaX:0,deltaY:0,lastEventX:f,lastEventY:p,eventX:f,eventY:p},!1!==((null===(o=r.props)||void 0===o?void 0:o.onDragStart)&&(null===(a=r.props)||void 0===a?void 0:a.onDragStart(e,r.eventData)))&&(null!==(l=r.props)&&void 0!==l&&l.enableUserSelectHack&&nn(s),r.dragging=!0,r.eventData=bn(bn({},r.eventData),{},{lastEventX:f,lastEventY:p}),hn(s,wn.move,r.handleDrag),hn(s,wn.stop,r.handleDragStop),hn(s,wn.cancel,r.handleDragStop))}}},r.handleDrag=function(e){var n,t,i,o,a;if(r.dragging){e.preventDefault();var l=r.getLocationParent(),u=r.findDOMNode(),d=fn(e,l);if(d){var c=null==d?void 0:d.x,s=null==d?void 0:d.y;if(r.eventData){var v=null===(n=r.props)||void 0===n?void 0:n.grid;if(Array.isArray(v)){var f=r.eventData,p=f.lastEventX,h=f.lastEventY,g=c-p,m=s-h,y=function(e,n,t){return[Math.round(n/e[0])*e[0],Math.round(t/e[1])*e[1]]}(v,g,m),b=x()(y,2);if(g=b[0],m=b[1],!g&&!m)return;c=p+g,s=h+m}if(r.eventData={node:u,deltaX:c-(null===(t=r.eventData)||void 0===t?void 0:t.lastEventX),deltaY:s-(null===(i=r.eventData)||void 0===i?void 0:i.lastEventY),lastEventX:c,lastEventY:s,eventX:c,eventY:s},!1!==((null===(o=r.props)||void 0===o?void 0:o.onDrag)&&(null===(a=r.props)||void 0===a?void 0:a.onDrag(e,r.eventData))));else try{r.handleDragStop(new MouseEvent(null==e?void 0:e.type))}catch(e){var D=document.createEvent("MouseEvents");D.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(D)}}}}},r.handleDragStop=function(e){var n,t;if(r.dragging&&r.eventData){e.preventDefault();var i=r.findOwnerDocument();if(r.eventData=bn(bn({},r.eventData),{},{deltaX:0,deltaY:0}),!1!==((null===(n=r.props)||void 0===n?void 0:n.onDragStop)&&(null===(t=r.props)||void 0===t?void 0:t.onDragStop(e,r.eventData)))){var o;if(i)null!==(o=r.props)&&void 0!==o&&o.enableUserSelectHack&&tn(i);r.dragging=!1,i&&(gn(i,wn.move,r.handleDrag),gn(i,wn.stop,r.handleDragStop),gn(i,wn.cancel,r.handleDragStop))}}},r.dragging=!1,r.eventData=void 0,r.state={},r}return X()(t,[{key:"componentDidMount",value:function(){hn(this.findHandle(),wn.start,this.handleDragStart)}},{key:"componentWillUnmount",value:function(){var e,n=this.findHandle(),t=this.findOwnerDocument();gn(n,wn.start,this.handleDragStart),gn(t,wn.move,this.handleDrag),gn(t,wn.stop,this.handleDragStop),gn(t,wn.cancel,this.handleDragStop),null!==(e=this.props)&&void 0!==e&&e.enableUserSelectHack&&tn(t)}},{key:"findDOMNode",value:function(){var e,n;return(null===(e=this.props)||void 0===e||null===(n=e.forwardedRef)||void 0===n?void 0:n.current)||Me.a.findDOMNode(this)}},{key:"render",value:function(){var e,n;return j.a.cloneElement(j.a.Children.only(null===(e=this.props)||void 0===e?void 0:e.children),{ref:null===(n=this.props)||void 0===n?void 0:n.forwardedRef})}}]),t}(j.a.Component)),jn=["children","x","y","scale","axis","positionOffset","bounds","zIndexRange","reset","className","style"];function Sn(e,n){var t=i()(e);if(a.a){var r=a()(e);n&&(r=u()(r).call(r,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,r)}return t}function Yn(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)v()(t=Sn(Object(r),!0)).call(t,(function(n){g()(e,n,r[n])}));else if(p.a)Object.defineProperties(e,p()(r));else{var i;v()(i=Sn(Object(r))).call(i,(function(n){Object.defineProperty(e,n,c()(r,n))}))}}return e}var On,zn=j.a.forwardRef((function(e,n){var t,r,i,o,a,l,u,d,c,s,v,f=e.children,p=e.x,h=e.y,m=e.scale,b=void 0===m?1:m,D=e.axis,w=void 0===D?mn:D,S=e.positionOffset,Y=e.bounds,O=e.zIndexRange,z=void 0===O?[]:O,G=e.reset,X=e.className,R=e.style,P=Be()(e,jn),M=Object(E.useRef)(!1),N=Object(E.useRef)(),q=Object(E.useState)(!1),W=x()(q,2),H=W[0],T=W[1],L=Object(E.useState)(!1),A=x()(L,2),C=A[0],k=A[1],K=Object(E.useRef)(0),B=Object(E.useRef)(0),V=Object(E.useState)({translateX:0,translateY:0,deltaX:0,deltaY:0}),U=x()(V,2),_=U[0],F=U[1],J=Object(E.useState)(),Q=x()(J,2),Z=Q[0],$=Q[1];Object(E.useImperativeHandle)(n,(function(){return ee()}));var ee=function(){return(null==N?void 0:N.current)||Me.a.findDOMNode(void 0)},ne=function(){return dn(Y)||dn(null==Y?void 0:Y.boundsParent)||document.body||document.documentElement};Object(E.useEffect)((function(){var e=vn(ee(),ne()),n=e&&{x:null==e?void 0:e.left,y:null==e?void 0:e.top};n&&$(n),n&&F(Yn(Yn({},_),{},{lastX:null==n?void 0:n.x,lastY:null==n?void 0:n.y}))}),[Y]),Object(E.useEffect)((function(){if(void 0!==p&&void 0!==h&&Z&&!M.current){var e=null==Z?void 0:Z.x,n=null==Z?void 0:Z.y,t=p,r=h,i=t-e,o=r-n;F((function(e){return Yn(Yn({},e),{},{x:t,y:r,lastX:t,lastY:r,translateX:i,translateY:o})}))}void 0!==p&&void 0!==h&&G&&$({x:p,y:h})}),[p,h,null==Z?void 0:Z.x,null==Z?void 0:Z.y,G,Y,M.current]);var te=Ue()((null===(t=f.props)||void 0===t?void 0:t.className)||"","react-draggable",X,(r={},g()(r,"react-draggable-dragging",M.current),g()(r,"react-draggable-dragged",H),r)),re=function(){return null==w?void 0:I()(w).call(w,un.x)},ie=function(){return null==w?void 0:I()(w).call(w,un.y)},oe={x:(null==_?void 0:_.translateX)||0,y:(null==_?void 0:_.translateY)||0};return j.a.createElement(En,y()({ref:N},P,{onDragStart:function(n,t){if(n.stopImmediatePropagation(),t){var r,i=null==t?void 0:t.node,o=vn(i,ne()),a=null==o?void 0:o.left,l=null==o?void 0:o.top,u=(null==_?void 0:_.translateX)||0,d=(null==_?void 0:_.translateY)||0,c=Yn(Yn({},_),{},{translateX:u,translateY:d,deltaX:0,deltaY:0,x:a,y:l,lastX:a,lastY:l,zIndex:z[1],node:i});M.current=!0,T(!0),k((r=null==t?void 0:t.node,void 0!==window.SVGElement&&r instanceof window.SVGElement)),F(c),e.onDragStart&&e.onDragStart(n,c)}},onDrag:function(n,t){var r,i,o,a;if(M.current&&t){var l=null!==(r=null==_?void 0:_.x)&&void 0!==r?r:0,u=null!==(i=null==_?void 0:_.y)&&void 0!==i?i:0,d=null!==(o=null==_?void 0:_.translateX)&&void 0!==o?o:0,c=null!==(a=null==_?void 0:_.translateY)&&void 0!==a?a:0,s={node:t.node,zIndex:z[1],translateX:re()?d+(null==t?void 0:t.deltaX)/b:d,translateY:ie()?c+t.deltaY/b:c,x:re()?l+(null==t?void 0:t.deltaX)/b:l,y:ie()?u+t.deltaY/b:u,deltaX:t.deltaX/b,deltaY:t.deltaY/b,lastX:l,lastY:u};if(s){var v=null==s?void 0:s.x,f=null==s?void 0:s.y;if(Y){v+=K.current,f+=B.current;var p=ln(null==t?void 0:t.node,{x:v,y:f},Y),h=d+(v=p.x)-l,g=c+(f=p.y)-u,m=K.current+(s.x-v),y=B.current+(s.y-f);K.current=m,B.current=y,s.x=v,s.y=f,s.translateX=h,s.translateY=g,s.deltaX=v-((null==_?void 0:_.x)||0),s.deltaY=f-((null==_?void 0:_.y)||0)}F(s),e.onDrag&&e.onDrag(n,s)}}},onDragStop:function(n,t){if(M.current&&_){var r=Yn(Yn({},_),{},{deltaX:0,deltaY:0,zIndex:z[0]});M.current=!1,K.current=0,B.current=0,F(r),e.onDragStop&&e.onDragStop(n,r)}}}),j.a.cloneElement(j.a.Children.only(f),{className:te,style:Yn(Yn(Yn({},null==f||null===(i=f.props)||void 0===i?void 0:i.style),R),{},{transform:C?null!==(o=null==R?void 0:R.transform)&&void 0!==o?o:(null===(a=f.props.style)||void 0===a?void 0:a.transform)||"":on(oe,S),zIndex:null!==(l=null!==(u=null==_?void 0:_.zIndex)&&void 0!==u?u:null==R?void 0:R.zIndex)&&void 0!==l?l:null==f||null===(d=f.props)||void 0===d||null===(c=d.style)||void 0===c?void 0:c.zIndex}),transform:C?an(oe,S):null!==(s=null==e?void 0:e.transform)&&void 0!==s?s:(null===(v=f.props)||void 0===v?void 0:v.transform)||""}))})),Gn=j.a.memo(zn);function Xn(e,n){var t=i()(e);if(a.a){var r=a()(e);n&&(r=u()(r).call(r,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rn(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)v()(t=Xn(Object(r),!0)).call(t,(function(n){g()(e,n,r[n])}));else if(p.a)Object.defineProperties(e,p()(r));else{var i;v()(i=Xn(Object(r))).call(i,(function(n){Object.defineProperty(e,n,c()(r,n))}))}}return e}function Pn(e){var n=function(){if("undefined"==typeof Reflect||!Y.a)return!1;if(Y.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Y()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=W()(e);if(n){var i=W()(this).constructor;t=Y()(r,arguments,i)}else t=r.apply(this,arguments);return N()(this,t)}}!function(e){e.dragStart="dragStart",e.draging="draging",e.dragEnd="dragEnd",e.resizeStart="resizeStart",e.resizing="resizing",e.resizeEnd="resizeEnd"}(On||(On={}));var Mn=function(e){P()(t,e);var n=Pn(t);function t(e){var r;return z()(this,t),(r=n.call(this,e)).calcolsWidth=function(){var e=r.props,n=e.containerWidth,t=e.cols,i=e.containerPadding,o=e.margin;return o?(n-2*i[0]-o[0]*(t+1))/t:(n-2*i[0]-0*(t+1))/t},r.calGridXYToPx=function(e,n){var t=r.props,i=t.margin,o=t.rowHeight;return i||(i=[0,0]),{x:Math.round(e*r.calcolsWidth()+(e+1)*i[0]),y:Math.round(n*o+i[1]*(n+1))}},r.calPxToGridXY=function(e,n){var t=r.props,i=t.margin,o=t.containerWidth,a=t.cols,l=t.w,u=t.rowHeight,d=Math.round(e/o*a),c=Math.round(n/(u+(i?i[1]:0)));return ge(d,c,a,l)},r.calWHtoPx=function(e,n){var t=r.props,i=t.margin,o=t.rowHeight;return i||(i=[0,0]),{wPx:Math.round(e*r.calcolsWidth()+(e-1)*i[0]),hPx:Math.round(n*o+(n-1)*i[1])}},r.calPxToWH=function(e,n){var t=r.props,i=t.rowHeight,o=t.cols,a=t.GridX,l=r.calcolsWidth();return function(e,n,t,r){var i=n,o=t;return e+n>r-1&&(i=r-e),n<1&&(i=1),t<1&&(o=1),{w:i,h:o}}(a,Math.round((e-.5*l)/l),Math.round((n-.5*i)/i),o)},r.addEventParams=function(e){var n=r.props;return Rn({GridX:n.GridX,GridY:n.GridY,w:n.w,h:n.h,uniqueKey:n.uniqueKey,margin:n.margin,isMove:n.isMove,forbid:n.forbid,handle:n.handle,dragAxis:n.dragAxis,resizeAxis:n.resizeAxis,zIndexRange:n.zIndexRange},e)},r.onDragStart=function(e,n){if(r.setState({dragType:On.dragStart}),n&&r.canDrag()){var t=n.x,i=void 0===t?0:t,o=n.y,a=void 0===o?0:o,l=r.calPxToGridXY(i,a),u=l.GridX,d=l.GridY;r.props.onDragStart&&r.props.onDragStart(r.addEventParams({GridX:u,GridY:d}),e)}},r.onDrag=function(e,n){if(r.setState({dragType:On.draging}),n&&r.canDrag()){var t=n.x,i=void 0===t?0:t,o=n.y,a=void 0===o?0:o,l=r.calPxToGridXY(i,a),u=l.GridX,d=l.GridY;r.props.onDrag&&r.props.onDrag(r.addEventParams({GridX:u,GridY:d}),e)}},r.onDragEnd=function(e,n){if(r.setState({dragType:On.dragEnd}),n&&r.canDrag()){var t=n.x,i=void 0===t?0:t,o=n.y,a=void 0===o?0:o,l=r.calPxToGridXY(i,a),u=l.GridX,d=l.GridY;r.props.onDragEnd&&r.props.onDragEnd(r.addEventParams({GridX:u,GridY:d}),e)}},r.onResizeStart=function(e){r.setState({dragType:On.resizeStart}),r.props.onResizeStart&&r.props.onResizeStart(r.addEventParams({}),e)},r.onResizing=function(e,n){if(r.setState({dragType:On.resizing}),n&&r.canResize()){var t=n.width,i=n.height,o=r.calPxToWH(t,i),a=o.w,l=o.h;r.props.onResizing&&r.props.onResizing(r.addEventParams({w:a,h:l}),e)}},r.onResizeEnd=function(e,n){if(r.setState({dragType:On.resizeEnd}),n&&r.canResize()){var t=n.width,i=n.height,o=r.calPxToWH(t,i),a=o.w,l=o.h;r.props.onResizeEnd&&r.props.onResizeEnd(r.addEventParams({w:a,h:l}),e)}},r.canDrag=function(){var e=r.props,n=e.dragAxis,t=e.forbid,i=null==mn?void 0:T()(mn).call(mn,(function(e){return null==n?void 0:I()(n).call(n,e)}));return!t&&(!n||i)},r.canResize=function(){var e=r.props,n=e.resizeAxis,t=e.forbid,i=null==Re?void 0:T()(Re).call(Re,(function(e){return null==n?void 0:I()(n).call(n,e)}));return!t&&(!n||i)},r.state={dragType:void 0},r}return X()(t,[{key:"render",value:function(){var e,n,t=this.props,r=t.w,i=t.h,o=t.style,a=t.bounds,l=t.GridX,u=t.GridY,d=t.handle,c=t.dragAxis,s=t.resizeAxis,v=t.isMove,f=t.parentDragType,p=t.zIndexRange,h=t.children,g=t.className,m=this.state.dragType,y=this.calGridXYToPx(l,u),b=y.x,x=y.y,D=this.calWHtoPx(r,i),w=D.wPx,E=D.hPx,S=Ue()((null==h||null===(e=h.props)||void 0===e?void 0:e.className)||"",g);return j.a.createElement(Gn,{className:S,axis:this.canDrag()?c:[],bounds:a,handle:d,onDragStart:this.onDragStart,onDrag:this.onDrag,onDragStop:this.onDragEnd,x:b,y:x},j.a.createElement(ke,{onResizeStart:this.onResizeStart,onResizeMoving:this.onResizing,onResizeEnd:this.onResizeEnd,axis:this.canResize()?s:[],width:w,height:E},j.a.cloneElement(j.a.Children.only(h),{style:Rn(Rn(Rn({},h.props.style),o),{},{position:"absolute",transition:!v&&f&&this.canDrag()?"all .2s ease-out":"",zIndex:m&&null!==(n=[On.dragStart,On.draging])&&void 0!==n&&I()(n).call(n,m)?null==p?void 0:p[1]:null==p?void 0:p[0]})})))}}]),t}(j.a.Component);function Nn(e,n){var t=i()(e);if(a.a){var r=a()(e);n&&(r=u()(r).call(r,(function(n){return c()(e,n).enumerable}))),t.push.apply(t,r)}return t}function qn(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)v()(t=Nn(Object(r),!0)).call(t,(function(n){g()(e,n,r[n])}));else if(p.a)Object.defineProperties(e,p()(r));else{var i;v()(i=Nn(Object(r))).call(i,(function(n){Object.defineProperty(e,n,c()(r,n))}))}}return e}Mn.defaultProps={cols:12,containerWidth:500,containerPadding:[0,0],margin:[10,10],rowHeight:30,w:1,h:1,dragAxis:mn,resizeAxis:Re};var Wn=j.a.forwardRef((function(e,n){var t,r,i,o=Object(E.useState)(),a=x()(o,2),l=a[0],u=a[1],d=Object(E.useState)([]),c=x()(d,2),s=c[0],v=c[1],f=Object(E.useState)(),p=x()(f,2),h=p[0],g=p[1],m=Object(E.useState)(),b=x()(m,2),D=b[0],S=b[1],Y=Object(E.useRef)(),O=Object(E.useRef)(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,t=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t||(t=setTimeout((function(){e.apply(this,i),t=null}),n))}}((function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return e.apply(void 0,t)}),16.7)).current;Object(E.useImperativeHandle)(n,(function(){return{getLayout:z}}));var z=function(){return s};Object(E.useEffect)((function(){G(e.layout,null==e?void 0:e.cols)}),[e.layout,null==e?void 0:e.cols,null==e?void 0:e.rowHeight,null==e?void 0:e.margin]);var G=function(n,t){var r,i=function(e,n){for(var t=C()(e),r=0;r<(null==e?void 0:e.length)-1;r++){var i,o;t[r].GridX=null===(i=me(t[r],n))||void 0===i?void 0:i.GridX,t[r].GridY=null===(o=me(t[r+1],n))||void 0===o?void 0:o.GridY,le(t[r],t[r+1])&&(t=de(t,t[r],t[r].uniqueKey+"",t[r].uniqueKey+""))}return t}(n,t),o=he(i,void 0,void 0),a=o.compacted,l=o.mapLayout;v(a),g(l),S(fe(a,null==e?void 0:e.rowHeight,null==e||null===(r=e.margin)||void 0===r?void 0:r[1],D,!1))},X=function(n,t){u(On.dragStart),g(h&&ae(h,n)),e.onDragStart&&e.onDragStart(n,s,void 0,t)},R=function(n,t){O((function(){var r;u(On.draging);var i=de(s,n,(null==n?void 0:n.uniqueKey)+"",(null==n?void 0:n.uniqueKey)+""),o=he(i,n,h);v(null==o?void 0:o.compacted),g(null==o?void 0:o.mapLayout),S(fe(null==o?void 0:o.compacted,null==e?void 0:e.rowHeight,null==e||null===(r=e.margin)||void 0===r?void 0:r[1],D)),e.onDrag&&e.onDrag(n,s,null==o?void 0:o.compacted,t)}))},P=function(n,t){var r;u(On.dragEnd);var i=he(s,void 0,h);v(null==i?void 0:i.compacted),g(null==i?void 0:i.mapLayout),S(fe(null==i?void 0:i.compacted,null==e?void 0:e.rowHeight,null==e||null===(r=e.margin)||void 0===r?void 0:r[1],D)),e.onDragEnd&&e.onDragEnd(n,s,null==i?void 0:i.compacted,t)},M=function(n,t){u(On.resizeStart);var r=h&&ae(h,n);g(r),e.onResizeStart&&e.onResizeStart(n,s,void 0,t)},N=function(n,t){O((function(){var r;u(On.resizing);var i=de(s,n,n.uniqueKey+"",n.uniqueKey+""),o=he(i,n,h);v(null==o?void 0:o.compacted),g(null==o?void 0:o.mapLayout),S(fe(null==o?void 0:o.compacted,null==e?void 0:e.rowHeight,null==e||null===(r=e.margin)||void 0===r?void 0:r[1],D,!1)),e.onResizing&&e.onResizing(n,s,null==o?void 0:o.compacted,t)}))},q=function(n,t){var r;u(On.resizeEnd);var i=he(s,void 0,h);v(null==i?void 0:i.compacted),g(null==i?void 0:i.mapLayout),S(fe(null==i?void 0:i.compacted,null==e?void 0:e.rowHeight,null==e||null===(r=e.margin)||void 0===r?void 0:r[1],D)),e.onResizeEnd&&e.onResizeEnd(n,s,null==i?void 0:i.compacted,t)},W=Ue()("DraggerLayout",null==e?void 0:e.className);return j.a.createElement("div",{ref:Y,className:W,style:qn(qn({},null==e?void 0:e.style),{},{left:100,width:(null==e?void 0:e.width)||(null===(t=Y.current)||void 0===t||null===(r=t.style)||void 0===r?void 0:r.width),height:D,zIndex:1})},w()(i=j.a.Children).call(i,null==e?void 0:e.children,(function(n){if(n)return function(n){if(h){var t,r,i=null==n?void 0:n.key,o=null==h?void 0:h[i+""];return j.a.createElement(Mn,y()({},o,{margin:null==e?void 0:e.margin,cols:null==e?void 0:e.cols,bounds:Y.current,containerWidth:null==e?void 0:e.width,containerPadding:null!==(t=null==e?void 0:e.padding)&&void 0!==t?t:[0,0],rowHeight:null==e?void 0:e.rowHeight,onDragStart:X,onDrag:R,onDragEnd:P,uniqueKey:i,onResizeStart:M,onResizing:N,onResizeEnd:q,zIndexRange:[2,10],isMove:null!==(r=null==o?void 0:o.isMove)&&void 0!==r&&r,parentDragType:l,key:i}),n)}}(n)})))}));n.default=Wn}]);